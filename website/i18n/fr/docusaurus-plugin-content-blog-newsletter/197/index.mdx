---
slug: /197
title: "This Week In React #197: Waku, Effect, TanStack, Framer Motion, use(), Preact, Valtio, Astro, Three.js, Nitrogen, React-Native-Web, expo-dom, Tophat, React-Navigation, Skip, TypeScript, Rspack, Volta..."
authors: [matthieugicquel, cyrilbo]
date: 08-21-2024
---

Salut Ã  tous !

Cyril et Matthieu de [Theodo Apps (anciennement BAM)](https://apps.theodo.com/en?utm_source=thisweekinreact) sont prÃ©sents ğŸ‘‹, ils remplacent Seb pour vous prÃ©senter les derniÃ¨res nouvelles des mondes React et React Native.

La semaine a Ã©tÃ© encore une fois calme, mais nous avons encore quelques bonnes mises Ã  jour pour vous. Waku supporte maintenant les actions React Server, il y a des astuces pour utiliser TanStack/Router, et nous explorons le chemin de React pour devenir un framework full-stack. De plus, dÃ©couvrez les nouveautÃ©s de React Native 0.75Â ! Nous avons Ã©galement des mises Ã  jour sur NitroModules et react-native-webGPU. Bonne lecture et savourez !

Consultez notre confÃ©rence partenaire **[React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact)** (ğŸ‡¬ğŸ‡§ Londres - 25 & 28 octobre). Nous aimons beaucoup l'idÃ©e de confÃ©rences avancÃ©es sur React, et jusqu'Ã  prÃ©sent le programme ne dÃ©Ã§oit pasÂ ! ğŸ‘Œ

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Are your React PR reviews turning into component chaos?](/emails/issues/197/coderabbit.jpg)](https://coderabbit.ai/?utm_source=newsletter&utm_medium=this-week-react-aug-21)

**[Are your React PR reviews turning into component chaos?](https://coderabbit.ai/?utm_source=newsletter&utm_medium=this-week-react-aug-21)**

Discover strategies to streamline your React PR reviews and elevate your team's focus to critical aspects of code quality. We'll review every PR with dependency management, code reconciliation & more, allowing your team to concentrate on architectural decisions, component design, and performance optimizations.

CodeRabbit helps with:

- Best Practice Enforcement: Leverage CodeRabbit's ability to identify common React anti-patterns and suggest best practices, ensuring good code quality.
- Component Structure Review: Benefit from a thorough summary of your component structure, receiving suggestions for better composition.
- Actionable Code Review Comments: Fix the code right in the PR, with 1-click commit suggestion.

CodeRabbit is free for all open-source repo's. [Get started today!](https://coderabbit.ai/?utm_source=newsletter&utm_medium=this-week-react-aug-21)

---

## âš›ï¸ React {#react}

[![Waku v0.21 - Full support for React Server Actions](/emails/issues/197/waku.jpg)](https://waku.gg/blog/server-actions-are-here)

**[Waku v0.21 - Full support for React Server Actions](https://waku.gg/blog/server-actions-are-here)**

Les composants React Server ont inspirÃ© une nouvelle vague de Â«Â frameworks ReactÂ Â». Waku, crÃ©Ã© par Daishi Kato (le crÃ©ateur de jotai, valtio...) est l'un d'entre eux. Il a Ã©tÃ© l'un des premiers en dehors de Next.js Ã  offrir un support pour les composants serveur.

Avec l'ajout des Server Actions, la plupart des fonctionnalitÃ©s de React 19 sont maintenant supportÃ©es par Waku, et il est possible de dÃ©velopper des applications complÃ¨tes en sautant la partie Â«Â avoir une APIÂ Â».

---

[![From React to Effect](/emails/issues/197/effect.jpg)](https://effect.website/blog/from-react-to-effect)

**[From React to Effect](https://effect.website/blog/from-react-to-effect)**

Michael Arnaldi, le crÃ©ateur d'Effect, explique en quoi les modÃ¨les utilisÃ©s par Effect et React sont similaires. Bien qu'Effect soit une boÃ®te Ã  outils puissante, il est assez difficile de commencer Ã  l'utiliser, presque comme un nouveau langage, c'est pourquoi faire des parallÃ¨les avec ce que nous connaissons dÃ©jÃ  peut aider.

Dans Effect, comme dans React, la majeure partie du code que vous Ã©crivez est un Â«Â blueprintÂ Â»Â : vous dÃ©clarez ce que votre programme doit faire sans l'exÃ©cuter directement. Ensuite, la bibliothÃ¨que (React d'Effect) se charge de l'exÃ©cuter.

---

- ğŸ’¸ [TutorialKit â€” Create interactive tutorials instantly without building or managing any backend infrastructure.](https://tutorialkit.dev/)
- ğŸ—“ï¸ [reactjsday](https://2024.reactjsday.it/?utm_source=thisweekinreact) - ğŸ‡®ğŸ‡¹ Verona - 25 octobre - 10% de rÃ©duction avec le code Â«Â TWIRÂ Â». A, B et C parleront !
- ğŸ—“ï¸ [Squiggle Conf](https://2024.squiggleconf.com/?utm_source=thisweekinreact) - ğŸ‡ºğŸ‡¸ Boston - 03 & 04 octobre - Obtenez une rÃ©duction de 10% avec le code Â«Â TWIRÂ Â». Les orateurs sont annoncÃ©s, veuillez visiter le site web de la conf.
- ğŸ“œ [Tips from 8 months of TanStack/Router in production](https://swizec.com/blog/tips-from-8-months-of-tan-stack-router-in-production/)Â : Swizec Teller partage les principes directeurs qu'il applique, par exemple lorsqu'il utilise des loaders, des suspense queries ou des queries.
- ğŸ“œ [React is (becoming) a Full-Stack Framework](https://www.robinwieruch.de/react-full-stack-framework/)Â : Avec l'ajout des Server Components et des Server Actions
- ğŸ“œ [Synchronizing State In React](https://www.brenelz.com/posts/synchronizing-state-in-react/)Â : Explique comment rÃ©soudre un bogue classique Â«Â de la bonne maniÃ¨reÂ Â», non pas Ã  l'aide d'un useEffect, mais en divisant les composants.
- ğŸ“œ [Building Swipe Actions component with React and Framer Motion](https://sinja.io/blog/swipe-actions-react-framer-motion)
- ğŸ“œ [useStateObject: A Simple, Convenient API Around useState](https://www.jameskerr.blog/posts/use-state-object/)
- ğŸ“œ [How to Build a React Hook That Handles Sequential Requests - Using an AbortController](https://webdeveloper.beehiiv.com/p/build-react-hook-handles-sequential-requests)
- ğŸ“œ [Generate a PDF in React](https://spacejelly.dev/posts/generate-a-pdf-from-html-in-javascript) - html2pdf.js, React PDF et Puppeteer
- ğŸ“œ [Preact - Prerendering with Preset Vite](https://preactjs.com/blog/prerendering-preset-vite)
- ğŸ“œ [Good Refactoring vs Bad Refactoring](https://www.builder.io/blog/good-vs-bad-refactoring)
- ğŸ“œ [How Valtio Was Born](https://blog.axlight.com/posts/how-valtio-was-born/)
- ğŸ“¦ [Astro v4.14 - Experimental Content Layer API with Intellisense support in content files](https://astro.build/blog/astro-4140/)
- ğŸ“¦ [react-three/xr 6.2.0](https://github.com/pmndrs/xr/releases/tag/v6.2.0)Â : Ajoute des espaces non dÃ©limitÃ©s, la dÃ©tection de la profondeur et des sources d'entrÃ©e secondaires.
- ğŸ“¦ [react18-use](https://github.com/dai-shi/react18-use)Â : Daishi Kato a crÃ©Ã© un shim du hook `use` de React 19 qui fonctionne dans React 18. Inclut la possibilitÃ© ğŸ¦ [d'appeler `use(Context)` dans `useMemo`](https://x.com/dai_shi/status/1825484689030955094) (expÃ©rimental), une meilleure alternative aux sÃ©lecteurs de contexte que l'Ã©quipe React prÃ©voit d'implÃ©menter.
- ğŸ“¦ [Formity](https://www.formity.app/)Â : DÃ©finir des formulaires complexes Ã  l'aide d'une structure JSON et laisser le package s'occuper des tÃ¢ches lourdes
- ğŸ“¦ [rspack-plugin-react-refresh v1.0](https://github.com/rspack-contrib/rspack-plugin-react-refresh)
- ğŸ™ï¸ [PodRocket - Generative UI and React components with Malte Ubl](https://podrocket.logrocket.com/generative-ui-react-components-malte-ubl)
- ğŸ¥ [Jack Herrington - Secret React-Native Hack For React Web Devs! - use patch-package to patch a dependency not working with Server Components](https://www.youtube.com/watch?v=81oUBWJQii4)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Visual testing for Storybook, Playwright & Cypress](/emails/issues/197/chromatic.jpg)](https://www.chromatic.com/features/visual-test?utm_source=thisweekinreact&utm_medium=2nd_sponsor&utm_campaign=q3_2024)

**[Visual testing for Storybook, Playwright & Cypress](https://www.chromatic.com/features/visual-test?utm_source=thisweekinreact&utm_medium=2nd_sponsor&utm_campaign=q3_2024)**

Tired of broken layouts and janky UI slowing you down? Chromaticâ€™s visual tests allow you to build with confidence. They catch bugs that functional tests miss, from misaligned elements to incorrect colors and z-index glitches.

No need for separate test cases or configuration. Chromatic plugs into your existing setup for Storybook, Playwright, or Cypress to enable visual testing of your application's UI. All tests run in parallel â€” at no extra cost â€” powered by Chromaticâ€™s lightning-fast Capture Cloud infrastructure.

Setup takes just two minutes, and our base plan includes 5,000 free snapshots per month. [Get started today Â»](https://www.chromatic.com/features/visual-test?utm_source=thisweekinreact&utm_medium=2nd_sponsor&utm_campaign=q3_2024)

---

## ğŸ“± React-Native {#react-native}

**[React Native 0.75](https://reactnative.dev/blog/2024/08/12/release-0.75)**

Cette semaine marque la sortie de React Native 0.75, oÃ¹ l'Ã©quipe principale a renforcÃ© sa recommandation d'utiliser un framework React Native comme Expo pour construire des applications prÃªtes pour la production. ReflÃ©tant ce changement, le dossier `/template` a Ã©tÃ© retirÃ© du package `react-native` de base, et la commande `react-native init` devrait Ãªtre obsolÃ¨te d'ici la fin de l'annÃ©e 2024, bien que les deux soient toujours accessibles dans les packages `@react-native-community`. Notamment, cette mise Ã  jour apporte des amÃ©liorations significatives, dont [l'amÃ©lioration des performances durant la phase du build auto-linking](https://github.com/react-native-community/discussions-and-proposals/discussions/814) et l'ajout de [Yoga 3.1](https://www.yogalayout.dev/blog/announcing-yoga-3.1), qui supporte maintenant l'utilisation de pourcentages pour les props `gap`, `columnGap`, `rowGap` et `translation` lorsque la nouvelle architecture est activÃ©e. Avec ces avancÃ©es, il est clair que l'adoption de la nouvelle architecture est cruciale pour rester Ã  jour avec les derniÃ¨res fonctionnalitÃ©s et les amÃ©liorations de stabilitÃ©.

---

- ğŸ’¸ [React Native Mastery - The only course you need to Master React Native & Expo](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- ğŸ‘€ [React Native 0.76 will ship with a single merged dynamic library called libreactnative.so](https://github.com/react-native-community/discussions-and-proposals/discussions/816)Â : Cela rÃ©duira la taille de l'application et le temps de dÃ©marrage
- ğŸ¦ [Nitrogen, the new Codegen for NitroModules](https://x.com/mrousavy/status/1823796378860184044)Â : Marc prÃ©sente comment Nitrogen gÃ©nÃ¨re des spÃ©cifications rapides que vous pouvez ensuite mettre en Å“uvre sans toucher au code Objective-C et C++ ğŸ‘
- ğŸ¦ [Types for react-native-web are now published on DefinitelyTyped](https://x.com/swmansion/status/1824379053836480771)
- ğŸ¦ [three.js running in RN thanks to react-native-webGPU](https://x.com/wcandillon/status/1825862686300672124)
- ğŸ¦ [expo-dom demo with React Three Fiber component](https://x.com/Baconbrix/status/1825128678683971733)
- ğŸ—“ï¸ [React Universe Conf](https://www.reactuniverseconf.com/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± WrocÅ‚aw - 5-6 septembre. BÃ©nÃ©ficiez d'une rÃ©duction de 10% avec le code Â«Â TWIRÂ Â». IntervenantsÂ : Evan Bacon, Marc Rousavy, Tzvetan Mikov, Oskar KwaÅ›niewski...
- ğŸ“œ [React Native 0.75 is now available with Expo SDK 51](https://expo.dev/changelog/2024/08-14-react-native-0.75)Â : Pas besoin d'attendre le SDK 52, profitez des corrections de bugs, des amÃ©liorations de performances et de la stabilisation de la nouvelle architecture pour un coÃ»t de mise Ã  jour rÃ©duit.
- ğŸ“œ [Progressive Web Apps (PWAs): A stepping stone towards a native mobile application](https://www.thinkmill.com.au/blog/progressive-web-apps-pw-as-a-stepping-stone-towards-a-native-mobile-application)Â : Une Ã©tude actualisÃ©e du compromis entre les PWA et les applications natives
- ğŸ“¦ [React Native Keyboard Controller v1.13](https://github.com/kirillzyusko/react-native-keyboard-controller/releases/tag/1.13.0)Â : Prise en charge des modales Android et de React Native 0.75
- ğŸ“¦ [Skip v1.0](https://skip.tools/blog/skip-1_0-release/)Â : Nouveau framework multiplateforme qui permet aux dÃ©veloppeurs d'Ã©crire des applications iOS natives en Swift et SwiftUI tout en gÃ©nÃ©rant automatiquement du code Android natif.
- ğŸ“¦ [Shopify - Tophat is now open sourced](https://github.com/shopify/tophat)
- ğŸ™ï¸ [RNR 304 - React Navigation V7 with Satyajit Sahoo - React Navigation 7's new features, including the static API, improved deep linking, and enhanced TypeScript support](https://reactnativeradio.com/episodes/rnr-304-react-navigation-v7-with-satyajit-saho)
- ğŸ¥ [Jolly Coding - Expo Just Made Web-to-Native Migration Easier - expo-dom demo](https://www.youtube.com/watch?v=MKoZTAcVCJU)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ‡«ğŸ‡· [ReactHebdo.fr - DerniÃ¨res Ã©ditions traduites en franÃ§ais](https://thisweekinreact.com/fr/newsletter)
- ğŸ“œ [Les 10 meilleures formations React en ligneâ€‹](https://codelynx.dev/posts/2024-08-18-les-10-meilleurs-formation-react)
- ğŸ¥ [Melvynx- Les 5 meilleures Library UI Tailwind pour React](https://www.youtube.com/watch?v=x9TWbrXtxVg)

---

## ğŸ”€ Autre {#other}

- ğŸ“Š [State of CSS 2024 survey is out](https://survey.devographics.com/en-US/survey/state-of-css/2024)
- ğŸ‘€ [Chrome 129 will introduce two new Javascript Events - scrollSnapChange and scrollSnapChanging](https://developer.chrome.com/blog/scroll-snap-events?hl=en)
- ğŸ‘€ [ECMAScript Error Safe Assignment Operator proposal](https://github.com/arthurfiorette/proposal-safe-assignment-operator) - InspirÃ© par des concepts de programmation fonctionnelle comme les monades et le type `Result` de Rust, il vise Ã  rationaliser la gestion des erreurs en JavaScript en renvoyant un tuple `[error, result]` Ã  partir des fonctions.
- ğŸ¦ [Colinâ€™s hack to filter keys from a TS interface:](https://x.com/colinhacks/status/1824052417820021173) Utilisation de Omit/Pick et d'un template littÃ©ral de chaÃ®ne
- ğŸ“œ [Branded Types in Typescript](https://www.learningtypescript.com/articles/branded-types)Â : Les types marquÃ©s sont essentiels si vous souhaitez renforcer votre systÃ¨me de types. Les prix ne sont pas de simples nombres, pas plus qu'une durÃ©e. ProtÃ©gez donc vos fonctions en limitant les types que vous acceptez.
- ğŸ“œ [Total TypeScript - Why I Don't Like Enums - Numeric vs String Enums, Nominal typing and other quirks.](https://www.totaltypescript.com/why-i-dont-like-typescript-enums)
- ğŸ“œ [Syntax Highlighting in Hand-Coded Websites - Implement syntax highlighting using OpenType features directly within a font](https://blog.glyphdrawing.club/font-with-built-in-syntax-highlighting/)
- ğŸ“œ [â€œSmartâ€ Layouts With Container Queries - Comparison of container queries with traditional media queries](https://css-tricks.com/smart-layouts-with-container-queries/)
- ğŸ“œ [Lessons learned switching to Rspack - challenges and benefits of migrating a SPA from webpack to Rspack](https://birtles.blog/2024/08/14/lessons-learned-switching-to-rspack/)
- ğŸ“œ [Spatial compute - Let the network decide where in the world to run your code](https://sunilpai.dev/posts/spatial-compute/)
- ğŸ“¦ [Chrome 128 Devtools update - Console insights by Gemini, Performance & Network panels improvements](https://developer.chrome.com/blog/new-in-devtools-128?hl=en)
- ğŸ“¦ [Volta 2.0 The Hassle-Free JavaScript Tool Manager](https://github.com/volta-cli/volta/releases/tag/v2.0.0)
- ğŸ¥ [Lydia Hallie - JavaScript Visualized - Closures](https://www.youtube.com/watch?v=6Ixyltr8_R0)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/197/meme.jpg)](https://x.com/colinhacks/status/1823445912997515429)

[![alt](/emails/issues/197/meme2.jpg)](https://x.com/nativewindcss/status/1824558552972923122)

A plus ğŸ‘‹
