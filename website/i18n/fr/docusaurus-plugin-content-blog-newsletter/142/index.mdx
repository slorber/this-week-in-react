---
slug: /142
title: "React Hebdo #142: JSX, React-Query, Server Components, Next.js, Million, OpenNext, Ariakit, Expo-Image, React-Three-Fiber, TS 5.1, Node.js 20, WebGPU..."
authors: [slorber]
date: 04-18-2023
---

Salut Ã  tous !

Cette semaine, TypeScript 5.1 sort en beta avec de nombreuses amÃ©liorations liÃ© au JSX et Ã  React!

React-Query compte retirer les callbacks dans la version 5. Cette idÃ©e ne plait pas Ã  tout le monde.

Pour les dÃ©veloppeurs React-Native, ne manquez pas [React-Native-Connection](https://reactnativeconnection.io/) le 1er Juin Ã  Paris! J'ai participÃ© au commitÃ© de sÃ©lection des talks, et on vient de [publier la line-up complete](https://twitter.com/sebastienlorber/status/1648269027318411264) avec des speakers internationaux et locaux. RÃ©duction de 10% avec le code "REACTHEBDO".

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![React-admin](/emails/issues/141/react_admin.png)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - Le Framework Open Source d'applications B2B](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

Vous Ãªtes en train de dÃ©velopper une admin avec React? Si oui, la suite va vous intÃ©resser ! En utilisant React-admin, notre framework open-source, vous pouvez vous Ã©pargner des jours de dÃ©veloppement ! **ğŸ¤©**

Avec React-admin, vous pouvez non seulement gagner un temps prÃ©cieux, mais vous pouvez Ã©galement devenir un meilleur dÃ©veloppeur! Fort dâ€™une communautÃ© de 20 000 dÃ©veloppeurs qui l'utilisent quotidiennement et dâ€™une Ã©quipe technique dÃ©diÃ©e, le projet grandit de jour en jour.Â  Consultez le tÃ©moignage deÂ  [Caritas](https://marmelab.com/blog/2022/07/07/react-admin-caritas.html) pour vous faire une idÃ©e des possibilitÃ©s offertes par le framework.

Rejoignez notre communautÃ© florissante ainsi que le serveur [Discord](https://discord.com/invite/jR3D6SdQ), afin de rester au courant des derniÃ¨res mises Ã  jour de React-admin et d'obtenir lâ€™aide d'un rÃ©seau de dÃ©veloppeurs expÃ©rimentÃ©s.

Testez le dÃ¨s maintenant en moins de 30 minutes !

---

## âš›ï¸ React {#react}

[![TypeScript 5.1 beta](/emails/issues/142/ts5.1.jpg)](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)

**[TypeScript 5.1 (beta) + React](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)**

Une version TypeScript importante qui va permettre Ã  React de pouvoir dÃ©clarer les types valides Ã  utiliser dans le JSX. Il est prÃ©vu d'utiliser cette nouvelle feature au plus tÃ´t dans les typedefs React, qui ont d'ailleurs Ã©tÃ© [forkÃ©es](https://github.com/DefinitelyTyped/DefinitelyTyped/pull/65126) pour continuer Ã  supporter des anciennes versions (TypeScript \<= 5.0).

Il y a de bonnes raisons d'adopter TypeScript 5.1+ au plus vite. Cela dÃ©bloque entre autre:

- la possibilitÃ© d'utiliser un React Server Component `async` dans le JSX sans erreurs TypeScript ni [workaround](https://gist.github.com/cramforce/b5e3f0b103f841d2e5e429b1d5ac4ded).
- la possibilitÃ© de retourner tous les types valides pour `ReactNode` (string, array, boolean...) sans avoir besoin d'un fragment ([details](https://twitter.com/sebastienlorber/status/1648619398259769344)).
- d'autres amÃ©liorations intÃ©ressantes autour du JSX: namespaced attributes et linked editing (VSCode).

---

[![Breaking React Query's API on purpose](/emails/issues/142/rq.jpg)](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)

**[Breaking React Query's API on purpose](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)**

React-Query va retirer les callbacks (`onSuccess`, `onError`, `onSettled`) du hook `useQuery` avec la v5. Dominik explique ce choix en proposant des alternatives plus adaptÃ©es pour les cas communs, comme afficher un toast. Une dÃ©cision qui fait polÃ©mique, mais semble nÃ©cessaire car ces APIs Ã©taient souvent mal utilisÃ©es. Note: les callbacks sont conservÃ©es pour `useMutation`.

---

- ğŸ§µ [Dan Abramov - "good rule of thumb. for any â€œserver componentsâ€](https://twitter.com/dan_abramov/status/1647203329854799872): explique le minimum requis pour une bonne implÃ©mentation des Server Components et profiter pleinement de leur potentiel. PrÃ©sente les limites de Qwik et Remix.
- ğŸ‘€ [Dan Abramov has a "story to tell" at Remix Conf ("React from Another Dimension")](https://twitter.com/remix_run/status/1646177445454950400)
- ğŸ‘€ [Next.js ships its own copy of React](https://twitter.com/devongovett/status/1647728887927906304): copie utilisÃ©e seulement quand vous utilisez App Router.
- ğŸ‘€ [Use Storybook with Rspack](https://twitter.com/rspack_dev/status/1646164228598792196)
- ğŸ‘€ [WebGPU in React-Three-Fiber demo](https://twitter.com/CantBeFaraz/status/1647811509014216710)
- âš¡ [SpiderMonkey Newsletter (Firefox 112-113)](https://spidermonkey.dev/blog/2023/04/14/newsletter-firefox-112-113.html): "Weâ€™re working on improving performance for popular web frameworks such as React".
- ğŸ“œ [Animating View Transitions](https://www.patterns.dev/posts/view-transitions): propose d'utiliser la nouvelle API View Transition (disponible dans Chrome 111) dans un contexte React avec Next.js App Router, et dans un contexte MPA. IntÃ©ressant, mais je pense que l'intÃ©gration React proposÃ©e n'est pas idÃ©ale.
- ğŸ“œ [An Animated Guide to Reacts Optional Parameters](https://julesblom.com/writing/react-optional-parameters): article interactif qui prÃ©sente quelques fonctions des APIs React qu'on utilise moins souvent.
- ğŸ“œ [Next over Remix](https://bradgarropy.com/blog/next-over-remix): retour d'expÃ©rience d'un dev qui avait prÃ©vu de passer sous Remix, mais qui finalement reste sous Next.js.
- ğŸ“œ [Building a blog with Next.js 13 and React Server Components](https://maxleiter.com/blog/build-a-blog-with-nextjs-13): utilise toutes les derniÃ¨res nouveautÃ©s Next.js pour crÃ©er un blog moderne.
- ğŸ“œ [React forwardRef(): How to Pass Refs to Child Components](https://dmitripavlutin.com/react-forwardref/)
- ğŸ“œ [Is React the New WordPress?](https://www.seancdavis.com/posts/is-react-the-new-wordpress/)
- ğŸ“œ [Becoming an Astro maintainer](https://www.elian.codes/blog/23-04-12-becoming-an-astro-maintainer/)
- ğŸ“œ [Display Warning for Unsaved Form Data on Page Exit](https://claritydev.net/blog/display-warning-for-unsaved-form-data-on-page-exit)
- ğŸ“œ [Mastering React: Techniques to Take Your UI to the Next Level](https://blog.bitsrc.io/mastering-react-techniques-to-take-your-ui-to-the-next-level-a5002173904f)
- ğŸ“œ [What's new in the new Storybook](https://www.mariasimo.codes/storybook-7-new-release)
- ğŸ“œ [Full-stack Web Apps Without React](https://remotesynthesis.com/blog/full-stack-without-react/)
- ğŸ¥ [Must Know React Portability Patterns](https://www.youtube.com/watch?v=yi8UCnXPu8U): de bons conseils pour moins coupler son code Ã  un framework particulier.
- ğŸ¥ [Maybe Create React App Isn't Dead?](https://www.youtube.com/watch?v=A2kWoKnpy1U)
- ğŸ“¦ [Ariakit 0.1.0](https://github.com/ariakit/ariakit/releases/tag/%40ariakit%2Freact%400.1.0): nouvelle maniÃ¨re de gÃ©rÃ©e l'Ã©tat basÃ©e sur des "component stores". Motivations dÃ©taillÃ©es dans cette [RFC](https://github.com/ariakit/ariakit/issues/1875): moins de re-renders, framework-agnostic...
- ğŸ“¦ [Million.js 2.2.1 - Support for hooks and non-primitives](https://twitter.com/aidenybai/status/1646238355427041285). Ce [thread](https://twitter.com/aidenybai/status/1647005716350406656) donne des explications intÃ©ressante sur la diffÃ©rence entre la reconciliation React et Million.
- ğŸ“¦ [OpenNext 1.0](https://github.com/serverless-stack/open-next/releases/tag/v1.0.0): souhaite rendre Next.js plus portable avec un serverless adapter.
- ğŸ“¦ [Astro 2.3](https://twitter.com/astrodotbuild/status/1646593124997779465)
- ğŸ“¦ [React-Three-Next - starter updated - App Router support](https://twitter.com/onirenaud/status/1646139899291254786)
- ğŸ“¦ [React-Three-Fiber AutoFocus DOF](https://github.com/ektogamat/AutoFocusDOF)

<SubscribeFormEmbed />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Tina.io is a headless CMS for Markdown-powered sites](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io is a headless CMS for Markdown-powered sites](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- Editing UI for your Markdown files
- UI for MDX components
- Supports static (SSG) and server-side rendering (SSR)
- Option for visual editing (live-preview)
- Build with reusable blocks

Test a starter site

- [Docusaurus](https://github.com/tinacms/tinasaurus) (Github)
- [Next.js + Tailwind with visual editing](https://github.com/tinacms/tina-cloud-starter) (Github)

Or run Â `npx create-tina-app@latest` Â then visit `localhost:3000/admin`

Watch the [4-min demo video](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## ğŸ“± React-Native {#react-native}

- ğŸ‘€ [Hover gesture coming soon to React Native Gesture Handler](https://twitter.com/breskin67/status/1646511002933153794): future API cross-platform avec support iOS, Android et web.
- ğŸ‘€ [Image perf demo](https://twitter.com/nightstomp/status/1647231665222176769): montre bien l'impact d'utiliser des imaages bien resizÃ©es sur vos apps React-Native.
- ğŸ“¦ [Expo-Image 1.2.0 - ThumbHash support](https://twitter.com/tsapeta/status/1646875246362861569)
- ğŸ“¦ [React-Native-Widget-Extension](https://twitter.com/bndkt/status/1648431242025766912)
- ğŸ“¦ [AnimateReactNative](https://www.animatereactnative.com/): plus de 100 animations par Catalin Miron (produit payant).
- ğŸ§µ [Expo Docs Updates](https://twitter.com/amanhimself/status/1646959895995105281)
- ğŸ§µ [Jamon Holmgren - "Want to know how easy it is to grab API keys out of a compiled iPhone app?"](https://twitter.com/jamonholmgren/status/1647305506053320704)
- ğŸ¥ [Song of Bloom - â€œCan it be done in React Native?â€](https://www.youtube.com/watch?v=PfCQEA72ljU)
- ğŸ¥ [React Native File Based Routing with Expo Router](https://www.youtube.com/watch?v=RglRiycD0oQ)
- ğŸ‘¥ [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er Juin) nous offre -10% (code "REACTHEBDO").
- ğŸ‘¥ [App.js](https://appjs.co/) (Cracovie, 10-12 Mai) nous offre [-20% sur les workshops](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (code "ThisWeekinReact20").
- ğŸ‘¥ [Chain React](https://chainreactconf.com/) (Portland, 18-19 Mai) nous offre -10% sur les entrÃ©es (code "thisweekinreact").

---

## ğŸ§‘â€ğŸ’» Jobs {#jobs}

ğŸ§‘â€ğŸ’¼ [**Shotgun - Senior Full Stack Engineer - 60-75kâ‚¬ + BSPCE**](https://shotgun.teamtailor.com/jobs/1981578-senior-full-stack-engineer)

Shotgun est la billetterie des Ã©vÃ¨nements electro. Nous recherchons des devs expÃ©rimentÃ©s pour travailler sur une stack moderne: React, React-Native, Typescript, GraphQL, NextJS, PgSQL, Vercel...

ğŸ§‘â€ğŸ’¼ [**Premier Octet - DÃ©veloppeurs(euses) React - Paris**](https://www.premieroctet.com/jobs)

Nous cherchons des dÃ©veloppeurs(euses) JavaScript passionnÃ©s. Vous interviendrez en dÃ©veloppement sur des projets variÃ©s et motivants, Ã  la fois serveur et front (React, Nest, Next), et Ã©ventuellement mobile (React Native).

ğŸ’¡ [Comment publier une offre d'emploi ?](https://thisweekinreact.com/fr/sponsor)

ğŸ¢ **[Vous recrutez en CDI ou freelance? Contactez-moi!](https://qq4ph6n1rk0.typeform.com/to/qjSZ38dQ#email={{subscriber.email_address}})**

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ“œ [Comment configurer ReactJS Vite Tailwind Styled components](https://dev.to/vincent_react/comment-configurer-reactjs-vite-tailwind-styled-components-1m72)
- ğŸ¥ [Comment React prÃ©serve ton State ?](https://www.youtube.com/watch?v=10YNSQ1AfYw)
- ğŸ¥ [Streaming sur AWS Lambda - Actus JS de la semaine](https://www.youtube.com/watch?v=FPCka_vpiKs)

ğŸ’¡Tu peux m'envoyer ton contenu: [sebastien@thisweekinreact.com](mailto:sebastien@thisweekinreact.com?subject=Contenu%20en%20fran%C3%A7ais) !

---

## ğŸ”€ Autre {#other}

- [Node.js 20 Now Available](https://openjsf.org/blog/2023/04/18/node-js-20-now-available/): avec test runner stable, permission model, possibilitÃ© de compiler un executable...
- [pretty-ts-errors](https://github.com/yoavbls/pretty-ts-errors): super idÃ©e pour amÃ©liorer la DX TS dans VSCode.
- [total-typescript/shoehorn - Partial mocks in TypeScript](https://github.com/total-typescript/shoehorn)
- [Chrome ships WebGPU](https://developer.chrome.com/blog/webgpu-release/): dispo dans Chrome 113+.
- [WebGPU Fundamentals](https://webgpufundamentals.org/)
- [Turborepo 1.9](https://twitter.com/turborepo/status/1646238976196444162)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/142/meme.jpg)](https://twitter.com/thekitze/status/1646511070801203202)

A plus ğŸ‘‹
