---
slug: /191
title: "This Week In React #191: React-Router, Remix, React Query, Suspense, Compiler, Remotion, CodeHike, next-safe-action, Framer-Motion, React-Admin, StyleX, Mobx, FlashList, RN native bridging, Expo, TypeScript, State of JS, Node ..."
authors: [slorber]
date: 06-26-2024
---

Salut Ã  tous !

Cette semaine, il semble que nous entrions enfin dans la saison des vacances et de l'Ã©tÃ© et que le rythme des annonces majeures concernant React se ralentisse. Nous ferons Ã©galement une courte pause estivale, sautant deux numÃ©ros, et serons de retour le 17 juillet.

Du cÃ´tÃ© de React, nous continuons Ã  avoir du contenu intÃ©ressant liÃ© au feuilleton Suspense de la semaine derniÃ¨re. Une nouvelle fonctionnalitÃ© de React Router vous permet de diviser votre arbre de route.

Du cÃ´tÃ© de React Native, il semble que l'Ã©quipe essaie de sortir la v0.75 en tant que RC, et qu'elle rencontre quelques obstacles, mais elle sortira probablement bientÃ´t.

La nouvelle la plus excitante pour moi est la version stable de TypeScript 5.5 : c'est une excellente version, notamment pour l'infÃ©rence de type de prÃ©dicat ! Les rÃ©sultats de l'enquÃªte State of JS sont Ã©galement sortis si vous voulez explorer les tendances JS.

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![The Category-Defining React Grid for Your Enterprise](/emails/issues/190/advertfinal.jpg)](https://1771technologies.com/graphitegrid)

**[The Category-Defining React Grid for Your Enterprise](https://1771technologies.com/graphitegrid)**

Data grids are complex components of web applications, but current solutions are inefficient, require a lot of maintenance, and perform poorly. [Graphite Grid](https://1771technologies.com/graphitegrid) transforms the landscape with two key features: retargetable rendering and reactive signal state.

**Graphite Grid** separates grid state from view logic, allowing a single unified state model to support a variety of render targets, declaratively or imperatively. It includes a **DOM and Canvas** renderer, giving developers flexible, high-performance options ğŸš€.

Graphite Grid is declarative and consistent, leveraging state signals to ensure seamless integration with your application. Designed with **React in mind**, it is the only JavaScript data grid built with React's state management primitives. [Try it now!](https://1771technologies.com/graphitegrid/demo)

---

## âš›ï¸ React {#react}

[![React-Router 6.24 - Lazy Route Discovery](/emails/issues/191/rr.jpg)](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6240)

**ğŸ“¦ [React-Router 6.24 - Lazy Route Discovery](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6240)**

Cette version de React Router inclut un nouveau hook `unstable_patchRoutesOnMiss` qui sera appelÃ© lorsque React Router ne peut pas trouver de route existante. Cela vous permet de charger des routes supplÃ©mentaires et de sÃ©parer le code de vos routes au lieu de les garder toutes dans un seul module monolithique. Une fonctionnalitÃ© bienvenue pour les grandes applications avec des milliers de routes, qui n'ont maintenant plus besoin de toutes les charger en amont, ce qui retarde l'hydratation.

Remix devait faire une pause, mais ce n'est apparemment pas encore le casÂ ! ğŸ“¦ [Remix 2.10](https://remix.run/docs/en/main/start/changelog#v2100) est sorti et exploite dÃ©jÃ  la nouvelle fonctionnalitÃ© React Router en l'exposant Ã  travers une fonctionnalitÃ© pratique [Â«Â Fog of WarÂ Â»](https://remix.run/docs/en/main/guides/fog-of-war) que vous pouvez activer avec un simple flag `future.unstable_fogOfWar`. Une optimisation de la rÃ©cente dÃ©couverte a Ã©galement Ã©tÃ© implÃ©mentÃ©e pour Ã©viter les waterfalls.

---

- ğŸ’¸ [Meilisearch â€” Build fast, typo-tolerant search with React](https://dub.sh/ueC2f57)
- ğŸ‘€ [React.dev PR - Add branding context menu](https://github.com/reactjs/react.dev/pull/6986)Â : Cliquez avec le bouton droit sur le logo de la barre de navigation du site web pour accÃ©der aux svgs officiels et aux couleurs de la marque React.
- ğŸ‘€ [Next.js PR draft - `nextConfig.requiredEnv`](https://github.com/vercel/next.js/pull/67187)
- ğŸ‘€ [Next.js PR draft - type check for `env`](https://github.com/vercel/next.js/pull/67157s)
- ğŸ¦ [Joe Savona - "Some thoughts on the suspense changes from 19 RC"](https://x.com/en_JS/status/1803480672327311425)Â : Pour Ã©viter des situations telles que le feuilleton Suspense de la semaine derniÃ¨re, l'Ã©quipe React travaille sur des changements afin d'obtenir des retours plus tÃ´t (groupes de travail, RFC, canary...).
- ğŸ¦ [Lee Robinsin - "Here's where we're headed with caching in Next.js"](https://x.com/leeerob/status/1803824227704877236)Â : Â«Â Notre objectif est de faire en sorte que toutes les opÃ©rations asynchrones (comme faire un `fetch`) optent pour le rendu dynamiqueÂ Â», Â«Â Nous pensons que le Prerendering partiel deviendra la valeur par dÃ©fautÂ Â».
- ğŸ—“ï¸ [React Rally](https://reactrally.com/?utm_source=thisweekinreact) - ğŸ‡ºğŸ‡¸Utah - 12-13 aoÃ»t - 10% de rÃ©duction avec le code Â«Â TWIRÂ Â». Il y a un [workshop](https://reactrally.com/workshop) sur les React Server Components avec Kent C. Dodds
- ğŸ“¨ [ECMAScript News - Discover our partners' newsletter to keep up to date with ES, TC39, JS tooling, and runtimes](https://ecmascript.news/?utm_source=thisweekinreact)
- ğŸ“œ [Component, colocation, composition: A note on the state of React](https://bobaekang.com/blog/component-colocation-composition/)Â : Le rÃ©cent Ã©pisode de Suspense met en Ã©vidence le dÃ©calage entre la vision de React, orientÃ©e vers les composants, et ses contraintes actuelles.
- ğŸ“œ [From markdown to video - Animated code walkthroughs with Code Hike and Remotion](https://v1.codehike.org/blog/remotion)Â : Si vous avez vu les rÃ©centes vidÃ©os d'animation de code de Matt Pocock ou de Delba, voici un excellent article et des dÃ©monstrations pour comprendre comment cela fonctionne.
- ğŸ“œ [Understanding React Compiler](https://tonyalicea.dev/blog/understanding-react-compiler/)Â : Explique comment fonctionne le compilateur React, en commenÃ§ant par les bases (transpiler, AST, mÃ©moÃ¯sation), puis en analysant la sortie du compilateur d'un exemple concret.
- ğŸ“œ [Wait for pending: A (not great) alternative Suspense algorithm](https://dev.to/alexandereardon/wait-for-pending-a-not-great-alternative-suspense-algorithm-1gdl)Â : Examine la possibilitÃ© d'utiliser un algorithme diffÃ©rent pour Suspense, avec des compromis diffÃ©rents.
- ğŸ“œ [How to make draggable Framer Motion elements snap to breakpoints](https://sinja.io/blog/framer-motion-drag-snap-points)Â : Article interactif implÃ©mentant des points de fixation au-dessus de Framer Motion, y compris la prise en charge de l'inertie et de la vÃ©locitÃ©.
- ğŸ“œ [Mobx Memoizes Components (You don't need React Compiler)](https://www.mikejohnson.dev/posts/2024/06/mobx-react-compiler)Â : Prend une dÃ©mo existante utilisant le compilateur React et la transforme en une application Mobx optimisÃ©e avec un minimum de changements. MobX Ã©vite les re-renders en suivant automatiquement les dÃ©pendances. Notez que cette [issue Mobx](https://github.com/mobxjs/mobx/issues/3874) explique pourquoi Mobx (basÃ© sur des proxies) n'est pas compatible avec le compilateur, et le crÃ©ateur de la lib confirme Ã©galement qu'elle est dÃ©jÃ  optimisÃ©e.
- ğŸ“œ [Web Workers, Comlink, Vite and TanStack Query](https://johnnyreilly.com/web-workers-comlink-vite-tanstack-query)Â : Comme React Query est un Â«Â gestionnaire d'Ã©tat asynchroneÂ Â», il fonctionne Ã©galement trÃ¨s bien pour dÃ©lester le thread principal des tÃ¢ches coÃ»teuses.
- ğŸ“œ [Storybook - Visual testing: The greatest trick in UI development](https://storybook.js.org/blog/visual-testing-is-the-greatest-trick-in-ui-development/)Â : Je suis d'accord pour dire que trop de dÃ©veloppeurs passent Ã  cÃ´tÃ© des tests de rÃ©gression visuels. Le retour sur investissement est vraiment excellent, compte tenu de la facilitÃ© avec laquelle il est possible de l'ajouter Ã  un Storybook existant. Comme le montre cet article, couvrir le mÃªme composant avec React Testing Library demande plus de travail.
- ğŸ“œ [Communication Between Client Components in Next.js](https://www.thisdot.co/blog/communication-between-client-components-in-next-js)Â : Avec les RSC, de nouveaux dÃ©fis sont apparus pour faire communiquer 2 composants clients, et vous pourriez ne pas Ãªtre en mesure de lever l'Ã©tat Ã  moins que le parent ne soit Ã©galement un composant client. Cet article propose 3 solutions : l'utilisation d'un Provider, de paramÃ¨tres de recherche et de l'Ã©tat du serveur.
- ğŸ“œ [How to Validate Form in Remix with clientAction](https://sergiodxa.com/tutorials/validate-form-in-remix-with-clientaction)Â : En utilisant le nouvel export Remix `clientAction`, vous pouvez complÃ©ter la validation `action` du serveur et enrichir progressivement votre formulaire avec des erreurs locales.
- ğŸ“œ [Type-safe TanStack Query with OpenAPI](https://ruanmartinelli.com/blog/tanstack-query-openapi)Â : Montre comment crÃ©er des hooks gÃ©nÃ©riques de React Query (`useGetQuery`, `usePostMutation`...) qui sont entiÃ¨rement typÃ©s selon une spÃ©cification OpenAPI.
- ğŸ“œ [How To Use Google Sheets as a Database With React via Next.js](https://thenewstack.io/how-to-use-google-sheets-as-a-database-with-react-and-ssr/)
- ğŸ“œ [Is it ok to pass setState as a prop in React?](https://tigerabrodi.blog/is-it-ok-to-pass-setstate-as-a-prop-in-react)
- ğŸ“¦ [StyleX 0.7 - CLI (experimental), Literal names for CSS variables](https://stylexjs.com/blog/v0.7.0)Â : Le nouveau CLI transforme un dossier entier et peut Ãªtre une alternative Ã  l'intÃ©gration du bundler.
- ğŸ“¦ [Next-Safe-Action 7.0 - Type safe and validated Server Actions](https://github.com/TheEdoRan/next-safe-action/releases/tag/v7.0.0)Â : Voir Ã©galement le [guide de migration v6 vers v7](https://next-safe-action.dev/docs/migrations/v6-to-v7).
- ğŸ“¦ [Astro 4.11 - 500 page improvements, `<Code>` component Shiki transformer](https://astro.build/blog/astro-4110/)
- ğŸ“¦ [React-Admin 5.0 - Improves on UI, DX, app init, Data Providers, formsâ€¦](https://marmelab.com/blog/2024/06/20/react-admin-v5.html)
- ğŸ“¦ [Shopify Hydrogen Update - Visual Editor, Optimistic Cart, Vite stable, RichText component, SEO meta exportâ€¦](https://hydrogen.shopify.dev/update/summer-editions-24-announcing-the-hydrogen-visual-editor-and-a-ton-of-dx-improvements)
- ğŸ“¦ [stan-js - Minimalistic state management library](https://codemask-labs.github.io/stan-js/)
- ğŸ¥ [Jack Herrington - React 19's useOptimistic: everything you need to know](https://www.youtube.com/watch?v=QWVr7uDyBXE)
- ğŸ¥ [Theo - I Used To Hate Next.jsâ€¦](https://www.youtube.com/watch?v=6q1eL7IcKzw)
- ğŸ¥ [Dave Gray - Nextjs Server Actions Just Got Better (using next-safe-action)](https://www.youtube.com/watch?v=ahB3DgUMs1A)
- ğŸ¥ [Ryan Carniato - Facing Frontend's Existential Crisis, React Summit 2024](https://www.youtube.com/watch?v=nzbV0YgSBuo)
- ğŸ™ï¸ [Syntax - Whatâ€™s Next for NextJS with Tim Neutkens](https://www.youtube.com/watch?v=fXugpgknScY)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![WorkOS: Modern Identity Platform for B2B SaaS](/emails/issues/189/WorkOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)

**[WorkOS: Modern Identity Platform for B2B SaaS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)**

With WorkOS you can start selling to enterprises with just a few lines of code.

ğŸ” WorkOS supports a complete User Management solution along with **SSO, SCIM, RBAC, & FGA**.

ğŸ—ï¸ The APIs are **flexible, easy-to-use, and modular**. Pick and choose what you need and integrate in minutes.

ğŸ¨ Design and user experience are everything. From the quality of our documentation to how your users onboard, we **remove all the unnecessary complexity for developers**.

âœ¨ User Management is **free up to 1 million MAUs** and includes bot protection, impersonation, MFA, & more.

ğŸ¤ WorkOS is trusted by hundreds of leading startups like **Perplexity**, **Vercel**, & **Webflow**.

Future-proof your auth stack with [WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024) ğŸš€

---

## ğŸ“± React-Native {#react-native}

Cette section est rÃ©digÃ©e par [Benedikt](https://twitter.com/bndkt).

- ğŸ’¸ [WithFrame - Ready to Use React Native Components](https://withfra.me/?utm_source=thisweekinreact&utm_medium=email&utm_campaign=quick-link--4)
- ğŸ¦ [Marc Rousavy on how to get relevant log or crash information in RN for creating issues in open source libs](https://x.com/mrousavy/status/1805637303726973437)
- ğŸ—“ï¸ [The Geek Conf](https://www.thegeekconf.com/?utm_source=thisweekinreact) - ğŸ‡©ğŸ‡ª Berlin - 18 & 25 juillet - Obtenez une rÃ©duction de 10% avec le code Â«Â TWIRÂ Â». Mo Khazali - Responsable de l'activitÃ© mobile chez Theodo UK, Matteo Collina - Directeur technique de Platformatic.dev, et Siddharth Kshetrapal - IngÃ©nieur logiciel chez GitHub, interviendront !
- ğŸ—“ [Chain React Conf](https://chainreactconf.com/?utm_source=thisweekinreact) - ğŸ‡ºğŸ‡¸ Portland, OR - Du 17 au 19 juillet. La confÃ©rence amÃ©ricaine React Native est de retour avec des confÃ©rences captivantes et des ateliers pratiques ! BÃ©nÃ©ficiez de 15% de rÃ©duction sur votre billet avec le code Â«Â TWIRÂ Â»
- ğŸ‘€ [Revert "Make the New Architecture the default"](https://github.com/facebook/react-native/commit/37e8fa113ef6a8be7cd057b2bf6ffaa4ae6439d9)Â : Il semblerait que l'activation par dÃ©faut de la New Arch soit reportÃ©e et ne fasse finalement pas partie de la v0.75Â ?
- ğŸ‘€ [Shopify FlashList PR - New architecture support merged (but not released yet)](https://github.com/Shopify/flash-list/pull/550)
- ğŸ‘€ [Fishjam Cloud - New project by Software Mansion to bring video streaming to React Native](https://cloud.fishjam.stream/)
- ğŸ‘€ [expo-router-native-intent-demo - Using +native-intent API in Expo Router to support "Copy to app" functionality on iOS](https://github.com/EvanBacon/expo-router-native-intent-demo)
- ğŸ“œ [Client guide to React Native modules](https://ospfranco.com/client-guide-to-react-native-modules/)Â : Oscar explique largement les diffÃ©rences, les avantages et les inconvÃ©nients des diffÃ©rentes faÃ§ons d'exposer des modules natifs Ã  React Native, et nous aide Ã  choisir la meilleure solution en fonction du contexte.
- ğŸ“œ [Bridging React Native and Rust via JSI](https://ditto.live/blog/bridging-react-native-and-rust-via-jsi)Â : Un article de Ditto, un moteur de synchronisation de donnÃ©es Ã©crit en Rust, sur la faÃ§on dont ils ont fait le pont entre leur logique de base (en Rust) et RN via JSI.
- ğŸ“œ [On-device AI/ML in React Native](https://blog.swmansion.com/on-device-ai-ml-in-react-native-137918d0331b)Â : Il s'agit d'un projet fascinant, qui aurait Ã©tÃ© inconcevable il y a encore peu de temps. Construire des filtres de camÃ©ra en temps rÃ©el avec l'IA de l'appareil dans RN.
- ğŸ“œ [From web to native with React Native and Expo](https://expo.dev/blog/from-web-to-native-with-react-native-and-expo)Â : DÃ©crit le parcours d'un dÃ©veloppeur web qui a crÃ©Ã© sa premiÃ¨re application mobile en utilisant RN/Expo.
- ğŸ“œ [Just as Google, BAM believes in Kotlin Multiplatform](https://www.bam.tech/article/just-as-google-bam-believes-in-kotlin-multiplatform)Â : La sociÃ©tÃ© BAM, principalement axÃ©e sur RN, estime que CMP/KMP est un choix convaincant parmi les solutions multiplateformes disponibles et en explique les avantages et les limites.c
- ğŸ“œ [Expo - FCM v1 Migration Deadline Changed to July 20th](https://expo.dev/blog/fcm-v1-migration-deadline-changed-to-july-20th)
- ğŸ¥ [Simon Grimm - TV Apps with React Native](https://www.youtube.com/watch?v=4S7Ftg58Yeg)
- ğŸ¥ [JavaScript Mastery - Free 4,5h React Native Course for Beginners in 2024](https://www.youtube.com/watch?v=ZBCUegTZF7M)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ‡«ğŸ‡· [ReactHebdo.fr - DerniÃ¨res Ã©ditions traduites en franÃ§ais](https://thisweekinreact.com/fr/newsletter)
- ğŸ“œ [Inversion de dÃ©pendances : Changer de librairie dans Next.jsâ€‹](https://www.hexa-web.fr/blog/dependency-inversion-switching-libraries-in-nextjs)
- ğŸ“œ [Ã‰liminez les erreurs "Window is Not Defined" et "Hydration Mismatch" dans Next.jsâ€‹â€‹](https://www.formationnextjs.fr/ressources/hydration-error-window-not-defined-react-next)
- ğŸ“œ [Pourquoi et comment utiliser Promise.all dans un projet front-end ?â€‹â€‹](https://www.hexa-web.fr/blog/how-to-use-promise-all-to-optimize-performance-in-front-end)
- ğŸ¥ [React 19 est cassÃ©... dramaâ€‹â€‹](https://www.youtube.com/watch?v=U1Ittgdexcw)
- ğŸ¥ [Sortie des RÃ©sultats de State of JS - Actus JS de juin 2024â€‹â€‹](https://www.youtube.com/watch?v=dQ8aj4aD4ms)
- ğŸ™ï¸ [Double Slash 88 - Les news web dev pour Juin 2024â€‹](https://double-slash.dev/podcasts/news-06-24/)

---

## ğŸ”€ Autre {#other}

- ğŸ“Š [State of JavaScript 2023 - Survey Results](https://2023.stateofjs.com/en-US)
- ğŸ“œ [How JavaScript Is Finally Improving the Module Experience](https://thenewstack.io/how-javascript-is-finally-improving-the-module-experience/)
- ğŸ“œ [Inline conditionals in CSS, now?](https://lea.verou.me/blog/2024/css-conditionals-now/)
- ğŸ“œ [GitHub Copilot Extensions are all you need](https://code.visualstudio.com/blogs/2024/06/24/extensions-are-all-you-need)
- ğŸ“œ [MDN - New JavaScript Set methods](https://developer.mozilla.org/en-US/blog/javascript-set-methods/)
- ğŸ“¦ [TypeScript 5.5 - Inferred type predicates, narrowing for indexed access, JSDoc @import](https://devblogs.microsoft.com/typescript/announcing-typescript-5-5/)
- ğŸ“¦ [farm - Extremely fast Vite-compatible web build tool written in Rust](https://github.com/farm-fe/farm)
- ğŸ“¦ [Node 20.15 - Test plans, â€“inspect-await](https://nodejs.org/en/blog/release/v20.15.0)
- ğŸ“¦ [node-swift - Create Node modules in Swift](https://github.com/kabiroberai/node-swift)
- ğŸ¥ [Matt Pocock TypeScript 5.5 is a banger](https://www.youtube.com/watch?v=sciBO_IaxTw)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/191/meme.jpg)](https://x.com/ccccjjjjeeee/status/1804814043359621254)

A plus ğŸ‘‹
