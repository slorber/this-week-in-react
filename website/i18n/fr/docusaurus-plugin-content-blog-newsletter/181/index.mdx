---
slug: /181
title: "This Week In React #181: React errors, Fast JSX, Flow, React-Query, Jotai, Inline styles, RSC, Next.js, RTL, RN 3D, Orbit, Gesture Handler, Skia, NewArch Helper, TC39, ESLint, VSCode..."
authors: [slorber]
date: 04-10-2024
---

Salut Ã  tous !

Cette semaine, j'ai trouvÃ© beaucoup de PR React Core Ã  regarder. Trop, en fait, alors j'en ai gardÃ© quelques-uns pour la semaine prochaineÂ !

AprÃ¨s la 2D avec Skia, c'est super intÃ©ressant de voir des dÃ©veloppeurs React Native explorer l'espace 3DÂ !

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![In-App Subscriptions Made Easy](/emails/issues/177/revenuecat.jpg)](https://www.revenuecat.com?utm_source=twir&utm_medium=sponsorship&utm_campaign=dec_23)

**[In-App Subscriptions Made Easy](https://www.revenuecat.com?utm_source=twir&utm_medium=sponsorship&utm_campaign=dec_23)**

RevenueCat gives you everything you need to monetize, analyze, and grow your app business. Effortlessly control customer access and entitlements, manage data, and experiment with pricing. See why over 30,000 apps trust RevenueCat to power their in-app purchase infrastructure.

---

## âš›ï¸ React {#react}

[![React Docs - Add onCaughtError / onUncaughtError, improve onRecoverableError](/emails/issues/181/react-errors.jpg)](https://github.com/reactjs/react.dev/pull/6742)

[**React Docs - Add onCaughtError / onUncaughtError, improve onRecoverableError**](https://github.com/reactjs/react.dev/pull/6742)

RÃ©cemment, l'Ã©quipe principale de React a rÃ©visÃ© la faÃ§on dont les erreurs sont gÃ©rÃ©es dans React 19. Ces amÃ©liorations sont disponibles dans les versions canary de React 19 et devraient probablement arriver dans Next.js 14.2+ tÃ´t ou tard. Cela inclut notamment de nouveaux callbacks d'API publiques disponibles sur React Root (`createRoot`, `hydrateRoot`)Â :

- `onCaughtError` ğŸ†• signale les erreurs dÃ©tectÃ©es par les pÃ©rimÃ¨tres d'erreur (Â«Â Error BoundariesÂ Â»)
- `onUncaughtError` ğŸ†• signale les erreurs non capturÃ©es (logique)
- `onRecoverableError` utilise dÃ©sormais la fonctionnalitÃ© ES Error Cause pour signaler la cause initiale

Le PR liÃ© est la documentation en cours d'Ã©laboration pour ces nouvelles API, y compris de nombreux exemples interactifs. La principale motivation semble Ãªtre de prÃ©senter un dialogue d'erreur Ã  l'utilisateur.

Ce qui m'a le plus excitÃ© dans tout Ã§a, c'est que c'est la premiÃ¨re fois que je peux voir en action le tout nouveau message d'erreur d'hydratation de React affichÃ© dans un dialogue, comme le montre la capture d'Ã©cran ci-dessus. Cela va grandement amÃ©liorer le DX de ReactÂ !

---

- ğŸ’¸ [Get drop-in authentication for your React app using Clerk, with ready-to-use components, hooks, and helpers.](https://go.clerk.com/WtsedFE)
- ğŸ‘€ [React Core - Fast JSX: Don't clone props object](https://github.com/facebook/react/pull/28768)Â : La crÃ©ation d'Ã©lÃ©ments JSX sous React 19 devrait devenir beaucoup plus rapide. Des changements rÃ©cents dans la faÃ§on dont les clÃ©s/refs sont gÃ©rÃ©es permettent d'Ã©viter le clonage des props. Nous crÃ©ons beaucoup de nÅ“uds JSX, donc cela devrait avoir un impact significatifÂ !
- ğŸ‘€ [React Core - Remove defaultProps support (except for classes)](https://github.com/facebook/react/pull/28733)
- ğŸ‘€ [React Core - Rename SECRET INTERNALS](https://github.com/facebook/react/pull/28789)
- ğŸ¦ [TIL React can render promises and contexts as JSX nodes](https://twitter.com/sebastienlorber/status/1777383298618077331)
- ğŸ“– [TanStack Query - new Render Optimizations guide](https://tanstack.com/query/v5/docs/framework/react/guides/render-optimizations)Â : Il est intÃ©ressant de constater que React Query utilise le partage structurel sous le capot et s'efforce de prÃ©server l'identitÃ© des objets au fil du temps.
- ğŸ“ˆ [Docusaurus has overtaken Gatsbyâ€™s npm downloads](https://npmtrends.com/@docusaurus/core-vs-@remix-run/react-vs-astro-vs-gatsby-vs-nextra-vs-vitepress-vs-vuepress)Â : Il est surrÃ©aliste de constater que le framework sur lequel je travaille est dÃ©sormais le deuxiÃ¨me framework web React le plus utilisÃ©, juste aprÃ¨s Next.js (loin derriÃ¨re), malgrÃ© sa focalisation sur les sites web centrÃ©s sur le contenu. Cela ne devrait pas durerÂ : Astro, Remix et Expo Web ont encore plus de potentiel de croissance.
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 Juin - Obtenez une rÃ©duction de 10 % avec le code Â«Â TWIRÂ Â».
- ğŸ—“ [React Connection - 22 April](https://reactconnection.io/) + [React-Native Connection - 23 April](https://reactnativeconnection.io/) - ğŸ‡«ğŸ‡· Paris - 2 jours de confÃ©rences web/mobiles. BÃ©nÃ©ficiez d'une [rÃ©duction de -20%](https://www.billetweb.fr/react-connection-2024?discount=TWIR) avec le code Â« TWIR Â».
- ğŸ“œ [New Flow Language Features for React](https://medium.com/flow-type/announcing-component-syntax-b6c5285660d0)Â : Les ingÃ©nieurs de Meta utilisent Flow (et non TypeScript). Ce billet prÃ©sente les avantages des nouveaux mots-clÃ©s `component`, `hook`, et `renders` introduits directement dans le langage, et prÃ©sente de grands avantages en termes de DX, de sÃ©curitÃ© de type, et d'analyse statique en gÃ©nÃ©ral. J'aurais aimÃ© avoir ces mots-clÃ©s dans TypeScript aussi, mais comme c'est spÃ©cifique Ã  React, il est peu probable que cela se produise Ã  moins que cela ne profite Ã  l'ensemble de l'Ã©cosystÃ¨me JS.
- ğŸ“œ [Are Inline Styles Faster than CSS?](https://danielnagy.me/posts/Post_tsr8q6sx37pl)Â : Daniel a implÃ©mentÃ© son site web React personnel en 3 variantes et a mesurÃ© plusieurs choses : Taille HTML/JS, compression, Web Vitals... Ã‰tonnamment, l'utilisation de styles en ligne simples surpasse les autres techniques CSSÂ !
- ğŸ“œ [Exploring using Suspense with React Query](https://www.teemutaskula.com/blog/exploring-query-suspense)Â : Il explique joliment comment vous pouvez amÃ©liorer l'UX en utilisant React Query. CrÃ©e un `useSuspenseQueryDeferred` pour Ã©viter d'afficher un fallback Suspense sur les changements de clÃ© de requÃªte.
- ğŸ“œ [React Server Components in a Nutshell](https://thenewstack.io/react-server-components-in-a-nutshell/)Â : Paul prend Waku pour illustrer comment les RSC permettent des requÃªtes pratiques cÃ´tÃ© serveur au niveau des composants, alors que les solutions prÃ©cÃ©dentes ne prenaient en charge que le niveau des routes. Il fait Ã©galement une comparaison intÃ©ressante entre les requÃªtes statiques de Gatsby et les RSC.
- ğŸ“œ [Jotai Tips](https://blog.axlight.com/posts/jotai-tips/)Â : Daishi a rassemblÃ© 20 conseils de Jotai dans un seul article.
- ğŸ“œ [State machines in React](https://thesametech.com/state-machines-in-react/)Â : ImplÃ©mente un flux assistant en construisant un automate d'Ã©tat Ã  partir de zÃ©ro.
- ğŸ“œ [Server-only Code in Next.js App Router](https://www.builder.io/blog/server-only-next-app-router)Â : Utilisez des packages uniquement pour le serveur et uniquement pour le client afin de s'assurer que le code s'exÃ©cute lÃ  oÃ¹ il doit s'exÃ©cuter.
- ğŸ“œ [Next.js Forms with Server Actions](https://www.jtmthf.com/posts/nextjs-forms)Â : Un tutoriel utilisant Radix Form (en avant-premiÃ¨re) pour implÃ©menter des Ã©lÃ©ments de formulaire compatibles avec les Server Actions.
- ğŸ“œ [Exploring Server Actions with Next.js](https://www.robinwieruch.de/next-server-actions/)Â : Un tutoriel montrant comment effectuer chaque opÃ©ration CRUD.
- ğŸ“œ [Techniques for Fetching Data - Comparing Next.js, Remix, and RedwoodJS](https://redwoodjs.com/blog/techniques-for-fetching-data)Â : Revisite les anciennes techniques de rÃ©cupÃ©ration de donnÃ©es pour expliquer pourquoi RSC est meilleur.
- ğŸ“œ [React 19 - Part 1: The Backstory; My journey writing a framework from scratch!](https://www.cmrg.me/blog/rsc-part-1-the-backstory)
- ğŸ“œ [Synchronize Backend and Frontend Types With tRPC](https://marmelab.com/blog/2024/04/04/trpc-full-stack-types.html)
- ğŸ“¦ [Jotai Effect 1.0 - A JÅtai utility package for reactive side-effects](https://github.com/jotaijs/jotai-effect/releases/tag/v1.0.0)
- ğŸ“¦ [Jotai 2.8 - atomWithLazy, experimental store](https://github.com/pmndrs/jotai/releases/tag/v2.8.0)
- ğŸ“¦ [react-testing-library 15.0 - requires Node 18, supports new WAI-ARIA 1.2 roles](https://github.com/testing-library/react-testing-library/releases/tag/v15.0.0)
- ğŸ“¦ [use-signals - An experimental React hook for TC39 signals](https://github.com/dai-shi/use-signals)
- ğŸ¥ [Jack Herrington - Declarative Routes for NextJS and React-Router](https://www.youtube.com/watch?v=MiZcNHJT_Ss)Â : Jack a prÃ©sentÃ© [declarative-routing](https://github.com/ProNextJS/declarative-routing), une nouvelle solution de routage sÃ©curisÃ©e sur laquelle il travaille et qui prend en charge React Router et Next.js. Elle prend Ã©galement en charge les routes API, ce qui en fait une alternative Ã  tRPC avec un contrÃ´le sur les API endpoints.
- ğŸ¥ [Theo - Facebook wrote a language just for React](https://www.youtube.com/watch?v=HOFIefkepMA)
- ğŸ¥ [James Quick - Donâ€™t Make This Mistake with Next.js Server Components](https://www.youtube.com/watch?v=F_AplRX3dJU)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Refine - Open source Retool Alternative](/emails/issues/177/refine.jpg)](https://github.com/refinedev/refine)

**[Refine - Open source Retool Alternative](https://github.com/refinedev/refine)**

The sweet spot between the low code and traditional development for CRUD-heavy applications.

As an open-source React meta-framework designed for Enterprise applications, [Refine](https://github.com/refinedev/refine) offers a headless solution ideal for tasks like admin panels, dashboards, and internal tools.

While low-code tools may offer initial promise, they often fall short in handling complex scenarios due to scalability issues, limited customization options, and the risk of vendor lock-in.

Refine enables teams to rapidly develop production-ready apps while maintaining flexibility.

---

## ğŸ“± React-Native {#react-native}

Cette section est dÃ©sormais co-Ã©crite avec [Benedikt](https://twitter.com/bndkt)

[![New 3D library for React Native in the works](/emails/issues/181/rn3d.jpg)](https://twitter.com/mrousavy/status/1775840325161853389)

ğŸ¦ [**New 3D library for React Native in the works**](https://twitter.com/mrousavy/status/1775840325161853389)

L'une des choses les plus inspirantes dans la communautÃ© RN est d'observer des gens comme Marc Rousavy, William Candillon et Christian Falch repousser les limites de ce qui est possible avec cette technologie et aller bien au-delÃ  du rendu de texte et de boutons sur un Ã©cran. Avec les rÃ©centes annonces de Skia, nous avons vu l'Ã©tat de l'art en matiÃ¨re de rendu 2D dans RN. Aujourd'hui, Marc nous a donnÃ© un aperÃ§u de quelques avancÃ©es passionnantes en matiÃ¨re de rendu 3D avec RN. Apparemment, Margelo travaille sur une nouvelle bibliothÃ¨que pour permettre l'accÃ¨s aux API graphiques natives (Metal/Vulkan) Ã  partir de RN. Outre la courte [vidÃ©o de dÃ©monstration](https://twitter.com/JPoliachik/status/1775866218743787934), j'ai Ã©galement trouvÃ© ce [fil de discussion](https://twitter.com/mrousavy/status/1775870100945461277) trÃ¨s intÃ©ressant, oÃ¹ Marc explique leur approche en utilisant une bibliothÃ¨que C++ et pourquoi ils n'ont pas choisi Three.js, qui est incroyable sur le web (React-Three-Fiber prend en charge RN).

---

- ğŸ’¸ [React Library Analytics â€” Omlet helps you understand which components and props to keep, remove, or improve based on real usage data.](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-rn-ql-apr-2024)
- ğŸ¦ [VisionCamera rendering straight to Skia](https://twitter.com/mrousavy/status/1776326923674661065)Â : Elle sera accompagnÃ©e de la Vision Camera 4, dont la sortie semble proche.
- ğŸ“£ [Expo - Orbit is now available as a Preview for Windows](https://expo.dev/blog/expo-orbit-now-available-as-a-preview-for-windows)Â : Si vous ne connaissez pas encore Orbit, il s'agit d'une application pratique de la barre de menu pour lancer des builds sur Simulator.
- ğŸ“£ [Expo - Push notification receipt IDs will change string formats](https://expo.dev/blog/push-receipt-id-format-will-change)
- ğŸ“– [Gestures in RN Gesture Handler are state machines](https://docs.swmansion.com/react-native-gesture-handler/docs/fundamentals/states-events/#state-flows)Â : Les documents sont dÃ©sormais accompagnÃ©s d'une excellente visualisation interactive pour les comprendre.
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± KrakÃ³w - 22-24 mai. BÃ©nÃ©ficiez d'une [rÃ©duction de 10 %](https://ti.to/appjs/2024/discount/TWIR) avec le code Â« TWIR Â».
- ğŸ“œ [Truly Selectable Text with React Native on iOS](https://haileyok.com/truly-selectable-text-with-react-native-on-ios/)Â : Tous ceux qui, Ã  un moment ou Ã  un autre, ont essayÃ© de rendre du texte sÃ©lectionnable (c'est-Ã -dire des parties d'un texte, et pas seulement la copie d'un Ã©lÃ©ment de texte entier) dans RN apprÃ©cieront cet article et la bibliothÃ¨que qui l'accompagne.
- ğŸ“œ [How To Dockerize A React Native App?](https://scientyficworld.org/how-to-dockerize-a-react-native-app/)Â : Un bon rÃ©sumÃ© de l'utilisation de RN dev setup dans Docker. Pour moi, le problÃ¨me principal reste que vous ne pouvez pas faire de builds iOS dans Docker, ce qui rend cette solution deux fois moins intÃ©ressante, mais dans certains scÃ©narios, elle a encore du sens (par exemple, si vous n'exÃ©cutez pas du tout de builds natifs locaux).
- ğŸ“œ [How to improve your React Native 3D animations: camera control with Three.js](https://www.themorrow.digital/blog/how-to-improve-your-react-native-3d-animations-camera-control-with-three-js)
- ğŸ“œ [Set up Detox for end-to-end testing in your React Native App](https://thoughtbot.com/blog/set-up-detox-for-end-to-end-testing-in-your-react-native-app)
- ğŸ“œ [The Easiest Way to Build Reactive Local-First Apps with TinyBase and PowerSync](https://bndkt.com/blog/2024/the-easiest-way-to-build-reactive-local-first-apps-with-tinybase-and-powersync)
- ğŸ“¦ [React Native 0.74.0-rc.8](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.8)
- ğŸ“¦ [React-Native-Skia 1.1 - makeImageSnapshotAsync](https://github.com/Shopify/react-native-skia/releases/tag/v1.1.0)
- ğŸ“¦ [New Architecture Helper - check if dependencies are ready for new architecture and bridgeless mode](https://github.com/aleqsio/new-arch-helper)
- ğŸ“¦ [react-native-localize 3.1 - visionOS support](https://github.com/zoontek/react-native-localize/releases/tag/3.1.0)
- ğŸ“¦ [expo-proximity - Access the system's proximity sensor](https://github.com/tmallet/expo-proximity)
- ğŸ“¦ [react-native-qrcode-skia](https://github.com/enzomanuelmangano/react-native-qrcode-skia)
- ğŸ¥ [Simon Grimm - React Native Security: Lock Screen, Face ID & Privacy Overlay](https://www.youtube.com/watch?v=iMFUWaIEzOs)
- ğŸ™ï¸ [RNR 293 - Real Life React Native With Benji Lightstone](https://reactnativeradio.com/episodes/rnr-293-real-life-react-native)
- ğŸ™ï¸ [Rocket Ship 37 - Bringing Swift to React Native with Gary Tokman](https://share.transistor.fm/s/cf35076f)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ‡«ğŸ‡· [ReactHebdo.fr - DerniÃ¨res Ã©ditions traduites en franÃ§ais](https://thisweekinreact.com/fr/newsletter)
- ğŸ¥ [CrÃ©er un Portfolio de dÃ©veloppeur - Next.js 14, TailwindCSS, React](https://www.youtube.com/watch?v=G8ZQo5S1db0)
- ğŸ¥ [CrÃ©er une Carte 3D avec Framer Motion, Tailwind CSS, React JS, NextJS](https://www.youtube.com/watch?v=X_ROAuBvikk)
- ğŸ¥ [Cours sur Zustand avec React en 2024](https://www.youtube.com/watch?v=JRGMte2Zq0k)

---

## ğŸ”€ Autre {#other}

- ğŸ“£ [Set Methods (intersection, union, difference) moved to stage 4](https://twitter.com/robpalmer2/status/1777777295941386429) ğŸ‰
- ğŸ“£ [Promise.try moved to stage 2.7](https://github.com/tc39/proposal-promise-try/issues/15)
- ğŸ“œ [A TC39 Proposal for Signals](https://eisenbergeffect.medium.com/a-tc39-proposal-for-signals-f0bedd37a335)
- ğŸ“œ [Angular and Wiz Are Better Together](https://blog.angular.io/angular-and-wiz-are-better-together-91e633d8cd5a)
- ğŸ“œ [HTML Streaming Over the Wire - A Deep Dive](https://aralroca.com/blog/html-streaming-over-the-wire)
- ğŸ“œ [Creating and importing styles with constructable stylesheets and CSS module scripts](https://fullystacked.net/constructable/)
- ğŸ“œ [Enhance WASM - Backend agnostic server-side rendering (SSR) for Web Components](https://begin.com/blog/posts/2024-04-08-introducing-enhance-wasm)
- ğŸ“¦ [ESLint 9.0 - flat config by default, config inspector, Node 20, cleanup formatters](https://eslint.org/blog/2024/04/eslint-v9.0.0-released/)
- ğŸ“¦ [VS Code 1.88 - Custom editor labels, test coverage API, Copilot enhancements](https://code.visualstudio.com/updates/v1_88)
- ğŸ“¦ [zx 8.0 - Write better scripts - smaller, sync calls, input, AbortControllerâ€¦](https://github.com/google/zx/releases/tag/8.0.0)
- ğŸ¥ [JavaScript Visualized - Event Loop, Web APIs, (Micro)task Queue](https://www.youtube.com/watch?v=eiC58R16hb8)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/181/meme.jpg)](https://twitter.com/sebastienlorber/status/1777647108822102502)

A plus ğŸ‘‹
