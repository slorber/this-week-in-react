---
slug: /131
title: "React Hebdo #131: useReducer, Controlled Inputs, Async React, DevTools, React-Query, Storybook, Remix, React-Native, Expo..."
authors: [slorber]
date: 01-17-2023
---

Salut à tous !

On sort progressivement de la période de fêtes. Il y a pas mal de blog posts; mais pas d'annonces majeures en dehors de React-Native 0.71.

Je rentre de vacances au ski et reprends la newsletter sur le rythme hebdomadaire. J'ai pas tout suivi mais je crois que le drama Twitter de la semaine était sur Tailwind? 😅

Plus que 2 jours pour répondre au sondage [State of React-Native](https://survey.stateofreactnative.com/) 🙏

J'ai été l'invité du podcast Artisan Développeur, l'épisode vient juste de sortir: **[Ma vie de freelance et infopreneur](https://compagnon.artisandeveloppeur.fr/veille/podcast-ma-vie-de-freelance-et-infopreneur-avec-sebastien-lorber)**. Si vous êtes curieux d'en savoir plus sur mon activité, on y parle surtout de freelancing, de Docusaurus et de cette newsletter.

Pour les devs web créatifs intéressés par React-Three-Fiber, abonnez-vous à la newsletter [Web Game Dev](https://www.webgamedev.com/newsletter): vous y trouverez plus d'infos qu'ici.

<!-- truncate -->

**💡 [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![React Bricks est un CMS visuel basé sur des composants React.](/emails/issues/128/reactbricks.png)](https://reactbricks.com/?utm_source=this_week_in_react)

**[React Bricks est un CMS visuel basé sur des composants React.](https://reactbricks.com/?utm_source=this_week_in_react)**

**Flexible pour les développeurs**: créez votre propre design system en utilisant des composants React, ajoutez l'édition visuelle dans votre JSX et ajoutez des contrôles dans la barre latérale pour modifier les props comme la couleur de fond. Choisissez Next.js, Gatsby ou Remix et le framework CSS de votre choix !

**Facile pour les éditeurs:** qui peuvent éditer directement de manière visuelle sans casser le design system: beaucoup plus facile que d'éditer des entités abstraites en utilisant des champs gris, comme dans un CMS headless classique. **Vous gagnez du temps**: les éditeurs de contenu sont autonomes !

**Prêt pour l'entreprise** avec la collaboration, le versioning, l'authentification unique, la conformité réglementation GDPR, le CDN global pour des images optimisées, l'intégration e-commerce électronique, la publication programmée et bien plus encore.

Commencez ici: [ReactBricks.com](https://reactbricks.com/?utm_source=this_week_in_react)

---

## ⚛️ React {#react}

[![useReducer](/emails/issues/131/useReducer.jpg)](https://www.builder.io/blog/use-reducer)

**[A Cure for useState Hell](https://www.builder.io/blog/use-reducer)**

Propose de remplacer plusieurs `useState` par un `useReducer` avec une seule action. Il explique les avantages que cela apporte, comme la possibilité de s'assurer que l'état est consistant, ou de migrer plus tard vers un reducer avec plusieurs actions. Un pattern intéressant à connaitre. Mon avis: il est tout a fait possible d'obtenir des bénéfices similaires en utilisant un seul `useState` avec un objet unique et un hook custom. `useState` ou `useReducer` devrait être un détail d'implémentation.

---

[![useReducer](/emails/issues/131/react-query-ts.jpg)](https://tkdodo.eu/blog/type-safe-react-query)

**[Type-safe React Query](https://tkdodo.eu/blog/type-safe-react-query)**

Avec TypeScript, il vaut mieux éviter de se mentir. Peut-on toujours faire confiance à son backend pour retourner le bon payload. Dominik propose de combiner React-Query à Zod. Avec l'inférence, il n'est plus nécessaire de forcer un type avec `as` ou des generics. On peut utiliser tRPC ou Zodios dans un environnement fullstack (backend/frontend dans le même monorepo).

---

- 📜 [Data Binding in React](https://www.joshwcomeau.com/react/data-binding/): nouvel article interactif de Josh Comeau sur les controlled inputs en React, y compris les subtilités à connaitre sur chaque type d'input, ou encore l'usage d'ids pour l'accessibilité.
- 📜 [Async React with NextJS 13](https://swizec.com/blog/async-react-with-nextjs-13/): usage de Async Server Components dans une app Next.js 13. Nombreux détails intéressants: error boundaries, fetch étendu par Next.js, React cache...
- 📜 [How to debounce and throttle in React without losing your mind](https://www.developerway.com/posts/debouncing-in-react): met en évidence qu'il n'est pas si simple d'implémenter soi-même le debouncing en React: fonction debouncée recréée, memoization, stale closure...
- 📜 [Future of Storybook in 2023](https://storybook.js.org/blog/future-of-storybook-in-2023/): une rétrospective 2022 et ce qu'on peut attendre en 2023: Storybook 7.0, performance, support Turbopack, embeds, testing, amélioration du support React-Native...
- 📜 [Storybook Ecosystem CI](https://storybook.js.org/blog/storybook-ecosystem-ci/): nouveau système qui permet de détecter en avance les regressions liés aux upgrades mineures des dépendances transitives.
- 📜 [Why You Should Use a React Framework](https://leerob.substack.com/p/react-frameworks): Lee Robinson donne différentes raisons d'utiliser un framework, pour dédier plus de temps au produit. React a évolué, et il ne s'agit plus d'une simple librairie, mais aussi une architecture, une communauté et un écosystème.
- 📜 [How We Rebuilt React DevTools with Replay Routines](https://blog.replay.io/how-we-rebuilt-react-devtools-with-replay-routines): Mark Erikson va en profondeur sur le fonctionnement des DevTools React, et comment la nouvelle intégration avec le time-travel debugger Replay fonctionne.
- 📜 [Optimizing React performance without refs and memo](https://alexsidorenko.com/blog/react-optimize-rerenders-without-refs-memo/): propose d'optimiser le re-render en l'isolant dans un composant plus petit.
- 📜 [Why Vercel OG Is Amazing and How to Use It](https://www.flavienbonvin.com/why-vercel-og-is-amazing-and-how-to-use-it/): utiliser une image meta est important pour le marketing. Présente Vercel OG, est une solution innovante utilisant JSX et Tailwind, facile à intégrer à un projet Next.js déployé sur Vercel.
- 📜 [Excalidraw - Rethinking the Component API](https://blog.excalidraw.com/redesigning-editor-api/): explique quelques décisions de design React pour l'éditeur Excalidraw qui retire l'usage de render props.
- 📜 [Building a fast, animated image gallery with Next.js](https://vercel.com/blog/building-a-fast-animated-image-gallery-with-next-js)
- 📜 [React, Vite and TypeScript: Get started in under 2 minutes](https://blog.nrwl.io/react-vite-and-typescript-get-started-in-under-2-minutes-3bd5cd836175)
- 📜 [A guide to streaming SSR with React 18](https://blog.logrocket.com/streaming-ssr-with-react-18/)
- 📜 [Little React Things: React applications are functions](https://www.zekehernandez.com/posts/react-applications-are-functions)
- 🧑‍🎓 [New official Relay tutorial](https://twitter.com/RelayFramework/status/1611424289068314625)
- 👀 [Remix + Vanilla Extract PR - merged](https://github.com/remix-run/remix/pull/5040)
- 🐦 [Solid in React](https://twitter.com/RyanCarniato/status/1611448920521179136): POC de Ryan Carniato pour intégrer du code SolidJS à une app React
- 📦 [Remix 1.10](https://github.com/remix-run/remix/releases/tag/remix%401.10.0): la fin officielle du "React-Routering Remix" et pas mal de nouveautés comme de nombreux hooks.
- 📦 [Visx 3.0](https://github.com/airbnb/visx/releases/tag/v3.0.0): nouvelle version majeure des primitives dataviz de Airbnb, avec quelques breaking changes.
- 📦 [create-react-signals](https://github.com/dai-shi/create-react-signals): Daishi Kato s'inspire de Preact signals pour créer ce nouveaux bindings reactifs sur Zustand, Valtio et Jotai.
- 📦 [Mutative](https://github.com/unadlib/mutative) + [Structura.js](https://giusepperaso.github.io/structura.js): 2 nouvelles alternative plus rapide à Immer pour les updates immuables?
- 📦 [Redux Toolkit 2.0 alpha](https://github.com/reduxjs/redux-toolkit/releases/tag/v2.0.0-alpha.0): donne une idée des premiers breaking changes
- 📦 [Create-Universal-App](https://github.com/chen-rn/CUA): starter pour créer des apps universelles fullstack (web + mobile): Next.js, Expo, Tamagui, tRPC...
- 📦 [Chakra UI FigPilot](https://twitter.com/chakra_ui/status/1613267652717191191): pour transformer un design Figma vers du code Chakra UI
- 📦 [Inertia 1.0](https://twitter.com/inertiajs/status/1614295060610437123): framework PHP avec routing coté serveur qui permet aussi de créer des apps React.
- 📦 [Precedent](https://twitter.com/steventey/status/1613928948915920896): "Building blocks for Next.js"
- 📦 [MDX extension for VSCode 1.1](https://twitter.com/remcohaszing/status/1613910319805382657): support expérimental intellisense
- 📦 [Next.js 13.1.2](https://twitter.com/nextjs/status/1613910922128416768)
- 📦 [Radix releases - January 17](https://www.radix-ui.com/docs/primitives/overview/releases#january-17-2023)
- 🎥 [Did NextJS 13 Break State Management?](https://www.youtube.com/watch?v=OpMAH2hzKi8)
- 🎥 [Blazing Fast Tips: React & TypeScript](https://www.youtube.com/watch?v=37PafxU_uzQ)
- 🎥 [Is it Too Late To Learn React?](https://www.youtube.com/watch?v=WByOlXWrGaY)

<SubscribeFormEmbed />

---

## 💸 Sponsor {#sponsor2}

[![Developer Nation Survey - Vous voulez avoir un impact sur l'écosystème des développeurs ?](/emails/issues/128/dn-survey.png)](https://developereconomics.net/?member_id=thisweekinreact)

**[Vous voulez avoir un impact sur l'écosystème des développeurs ?](https://developereconomics.net/?member_id=thisweekinreact)**

D'après le dernier rapport State of the Developer Nation, React est de loin la lib client la plus populaire puisqu'elle est utilisée par 58 % des développeurs web qui utilisent des frameworks web. Qu'en pensez-vous ?

Participez à l'[enquête](https://developereconomics.net/?member_id=thisweekinreact) la plus complète jamais créée par Developer Nation, façonnez les principales tendances chez les développeurs pour 2023 et gagnez des cadeaux incroyables ! 🎁

Une fois le questionnaire complété, vous obtiendrez un accès gratuit à notre sac à surprises virtuel. N'oubliez pas de vous inscrire pour participer aux tirages au sort hebdomadaires. Parmi les 250 prix, vous trouverez un ThinkPad L15 Gen 3, un mini PC Intel NUC 10 Performance, des kits IoT, un iPad Air, des cartes-cadeaux, des cours Udemy, des accessoires tech, et bien d'autres encore.

[Commencez ici](https://developereconomics.net/?member_id=thisweekinreact) !

---

## 📱 React-Native {#react-native}

[![useReducer](/emails/issues/131/rn-android-bt.jpg)](https://reactnative.dev/blog/2023/01/12/version-071)

**[React Native 0.71: TypeScript by Default, Flexbox Gap, and more...](https://reactnative.dev/blog/2023/01/12/version-071)**

Une grosse release avec entre autre:

- TypeScript par défaut
- Support flex gap: en pixels, le support des pourcentages arrive plus tard
- Nouvelles props inspirés du web (accessibilité, style, events) qui devrait simplifier le dev cross-platform.
- DX améliorée: DevTools click-to-inspect, nouvelle version Hermes, nouvelle architecture...
- [Android Prebuilts on Maven Central](https://github.com/reactwg/react-native-new-architecture/discussions/105): temps de build Android réduit de 94%, et divers autres impacts. Note: il semble aussi possible d'[améliorer fortement les temps de build iOS](https://twitter.com/Baconbrix/status/1611527618444120065).

---

[![expo-m1](/emails/issues/131/expo-m1.jpg)](https://blog.expo.dev/m1-workers-on-eas-build-dcaa2c1333ad)

**Divers nouveaux articles sur le blog Expo**:

- 👀 Le SDK 48 devrait arriver fin Février.
- 📜 [Announcing General Availability of M1 workers on EAS Build](https://blog.expo.dev/m1-workers-on-eas-build-dcaa2c1333ad): le worker M1 réduit le temps de build iOS de -40% sur EAS et sera bientôt le worker par défaut.
- 📜 [An Implementation Change to Expo Push Notification Service for Android Notifications](https://blog.expo.dev/an-implementation-change-to-expo-push-notification-service-for-android-notifications-ede056189e33): l'API Expo ne vous dira plus si le push a bien été reçu par APNS ou FCM.
- 📜 [Testing React Native from the nightly builds](https://blog.expo.dev/testing-react-native-from-the-nightly-builds-ee54ad0c9830): Expo utilise la version en cours de dev de React-Native pour detecter les problèmes au plus vite.
- 📜 [Classic Build service no longer supported](https://blog.expo.dev/classic-build-service-no-longer-supported-73c82b500f56): il faut passer à EAS ou builder soi-même avec turtle-cli.

---

- 📊 [State of React-Native](https://survey.stateofreactnative.com/): le sondage ferme vendredi, n'oubliez pas de répondre avant!
- 📖 [Callstack - The Ultimate Guide to React Native Optimization](https://www.callstack.com/campaigns/download-the-ultimate-guide-to-react-native-optimization)
- 🐦 ["In Metro v74, bundling React Native is now ~10% faster"](https://twitter.com/Baconbrix/status/1613899384504127488)
- 🎨 [Multiple iOS windows demo](https://twitter.com/jpdriver/status/1612265133497282561)
- 📦 [React-Native-OpenAI-JSX](https://github.com/cawfree/react-native-openai-jsx)
- 🎥 [Skia Shaders and the SDF of a Line](https://www.youtube.com/watch?v=KgJUNYS7ZnA)
- 🧑‍🎓 [React-Native 10x Faster](https://react-native-10x-faster.com/)

---

## 🧑‍💻 Jobs {#jobs}

🧑‍💼 [**Shotgun - Senior Full Stack Engineer - 60-75k€ + BSPCE**](https://shotgun.teamtailor.com/jobs/1981578-senior-full-stack-engineer)

Shotgun est la billetterie des évènements electro. Nous recherchons des devs expérimentés pour travailler sur une stack moderne: React, React-Native, Typescript, GraphQL, NextJS, PgSQL, Vercel...

🧑‍💼 [**Premier Octet - Développeurs(euses) React - Paris**](https://www.premieroctet.com/jobs)

Nous cherchons des développeurs(euses) JavaScript passionnés. Vous interviendrez en développement sur des projets variés et motivants, à la fois serveur et front (React, Nest, Next), et éventuellement mobile (React Native).

💡 [Comment publier une offre d'emploi ?](https://thisweekinreact.com/fr/sponsor)

---

## 🇫🇷 En français {#fr}

- 🎥 [Les règles essentielles pour les hooks](https://www.youtube.com/watch?v=rLYtXmIjHdA)
- 🎥 [Le guide complet useContext](https://www.youtube.com/watch?v=V13h-VKpB7Y)

💡Tu peux m'envoyer ton contenu: [sebastien@thisweekinreact.com](mailto:sebastien@thisweekinreact.com?subject=Contenu%20en%20fran%C3%A7ais) !

---

## 🔀 Autre {#other}

- [State of JS 2022 Result](https://2022.stateofjs.com/)
- [2022 JavaScript Rising Stars](https://risingstars.js.org/)
- [Turborepo 1.7](https://turbo.build/blog/turbo-1-7-0)
- [tRPC - TypeScript performance lessons while refactoring for v10](https://trpc.io/blog/typescript-performance-lessons)
- [Microfrontend.dev](https://microfrontend.dev/)
- [Speeding up the JavaScript ecosystem - module resolution](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-2/)
- [Fixing a Memory Leak in a Production Node.js App](https://kentcdodds.com/blog/fixing-a-memory-leak-in-a-production-node-js-app)
- [New in Chrome 109](https://developer.chrome.com/blog/new-in-chrome-109/) + [Chrome 110 Beta](https://developer.chrome.com/blog/chrome-110-beta/)
- [Our top Core Web Vitals recommendations for 2023](https://web.dev/top-cwv-2023/)
- [Structure of a TypeScript Error](https://www.totaltypescript.com/structure-of-a-typescript-error)
- [Mental Model for TypeScript Generics](https://www.totaltypescript.com/mental-model-for-typescript-generics)
- [The gotcha of unhandled promise rejections](https://jakearchibald.com/2023/unhandled-rejections/)
- [From Ruby to Node: Overhauling Shopify’s CLI for a Better Developer Experience](https://shopify.engineering/overhauling-shopify-cli-for-a-better-developer-experience)
- [Conditional CSS](https://ishadeed.com/article/conditional-css/)
- [NPM Kiosk - A new way to sell NPM packages](https://npm-kiosk.remotion.dev/)
- [Lightning CSS visitor API](https://twitter.com/devongovett/status/1610683620255043591)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/131/meme.jpg)](https://twitter.com/t3dotgg/status/1614125827054260224)
