---
slug: /182
title: "This Week In React #182: v18.3, useDeferredValue, Next.js, DevTools, Zustand, CSS-in-JS, R19, Remix, Jest, XState, Astro, RNSC, Strict DOM, 3D, Metro, Worklets, TC39, TypeScript, Effect, Rspack, GraphQL..."
authors: [slorber]
date: 04-17-2024
---

Salut Ã  tous !

Cette semaine, nous avons une belle version de Next.js et de nombreux articles intÃ©ressants sur le blog de la communautÃ©.

Nous pouvons Ã©galement sentir que l'Ã©quipe principale de React travaille dur pour peaufiner les derniers dÃ©tails de React 19. De maniÃ¨re inattendue, une v18.3 est finalement prÃ©vue avec des avertissements supplÃ©mentaires. React Native 0.74 est Ã©galement sur le point d'arriver.

Cette semaine, j'aimerais vous prÃ©senter [**ECMAScript News**](https://ecmascript.news/?utm_source=thisweekinreact). C'est ma newsletter prÃ©fÃ©rÃ©e pour rester informÃ© sur ES, TC39, l'outillage JS et les runtimes.

La semaine prochaine, nous avons les confÃ©rences [React Connection](https://reactconnection.io/) et [React Native Connection](https://reactnativeconnection.io/) Ã  Paris. Rendez-vous lÃ -bas pour ceux qui y participent ğŸ‘‹. Vous pouvez encore bÃ©nÃ©ficier d'une [rÃ©duction de -20%](https://www.billetweb.fr/react-connection-2024?discount=TWIR) avec mon code partenaire Â« TWIR Â».

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![React-admin: The Open-Source Framework for B2B apps](/emails/issues/182/marmelab.jpg)](https://marmelab.com/react-admin/)

**[React-admin: The Open-Source Framework for B2B apps](https://marmelab.com/react-admin/)**

Used by 25,000 companies, React-admin is the leading framework for building ERPs, internal tools, and B2B apps with React. Here are 3 reasons to try it:

1ï¸âƒ£ **Rapid Development** ğŸï¸ğŸ Boasts a library of 170+ hooks and components, allowing you to focus on the unique aspects of your application rather than repetitive CRUD operations.

2ï¸âƒ£ **Customizable and Extensible** âœ¨ğŸ’« Built on a headless core, react-admin enables complete customization of your app's look and feel. And it gets out of the way when you need custom logic.

3ï¸âƒ£ **Built-in Best Practices** ğŸ¤“ React-admin integrates 7 years of best practices in data fetching, performance, form handling, and security, ensuring a robust and enjoyable developer experience.

Best of all: it's free and seamlessly integrates with your API (no [SSO Tax](https://sso.tax/)). [**Try it now**](https://marmelab.com/react-admin/) ğŸ˜‰

---

## âš›ï¸ React {#react}

[![Next.js 14.2](/emails/issues/182/next14.2.jpg)](https://nextjs.org/blog/next-14-2)

[**Next.js 14.2**](https://nextjs.org/blog/next-14-2)

En attendant React 19 et Next.js 15, cette nouvelle version mineure comprend des amÃ©liorations pour le dÃ©veloppement, la production et la mise en cache. Les points forts sont les suivantsÂ :

- Turbopack (RC)Â : 99.8% des tests passent pour `next dev --turbo`
- AmÃ©lioration du build / de la productionÂ : RÃ©duction de l'utilisation de la mÃ©moire
- AmÃ©lioration de la mise en cacheÂ : Revalidation configurable du cache cÃ´tÃ© client avec `staleTimes`
- Erreurs DXÂ : Meilleurs messages concernant les problÃ¨mes d'hydratation

Je suis ravi de voir un excellent dialogue d'erreur d'hydratation React dÃ©jÃ  implÃ©mentÃ© dans Next.js ! Au moment oÃ¹ j'Ã©cris ces lignes, Turbopack est prÃªt Ã  99,9% pour le dÃ©veloppement (il manque 6 tests d'intÃ©gration). Pour l'utilisation du build, il est prÃªt Ã  75%, il faudra donc encore attendre un peu.

---

- ğŸ’¸ [Clerk - A complete suite of embeddable UIs, flexible APIs, and admin dashboards to authenticate and manage your users.](https://go.clerk.com/JTqLYDZ)
- ğŸ‘€ [React Core - Upcoming v18.3 release](https://github.com/facebook/react/pull/28843)Â : L'Ã©quipe React a finalement dÃ©cidÃ© de publier une version mineure v18. Elle ne devrait pas contenir de changement de comportement mais Ã©mettra de nouveaux avertissements pour les fonctionnalitÃ©s dÃ©prÃ©ciÃ©es afin de nous aider Ã  passer Ã  React 19. Elle devrait nous avertir lors de l'utilisation de string refs, de defaultProps sur les composants FC/memo, ou lors de la diffusion d'un key prop (ğŸ¦ [aperÃ§u](https://twitter.com/sebastienlorber/status/1780519349247205589)).
- ğŸ‘€ [React Core - useDeferredValueâ€™s `initialValue`](https://github.com/reactjs/react.dev/pull/6747)Â : Dans les prochaines versions de React 19 canary, ce hook prendra un second nouvel argument affectant le rendu initial. Il retournera la `initialValue` lors du premier rendu, et planifiera un nouveau rendu en arriÃ¨re-plan avec la `value` retournÃ©e.
- ğŸ‘€ [React Core - Automatically reset forms after action finishes](https://github.com/facebook/react/pull/28804)Â : Ce nouveau comportement de React 19 n'affecte que les inputs non contrÃ´lÃ©s, et s'aligne sur le comportement de la plateforme native (il sera dÃ©sormais le mÃªme avec/sans JS). Il n'affectera que les inputs non contrÃ´lÃ©s. Ils ont Ã©galement ajoutÃ© une nouvelle API publique [DOM.requestFormReset](https://github.com/facebook/react/pull/28809) afin que les auteurs d'abstractions de formulaires puissent Ã©galement implÃ©menter ce comportement.
- ğŸ‘€ [React Core - DevTools v5.1](https://github.com/facebook/react/pull/28840)
- ğŸ‘€ [React Core - Document new react-reconciler methods](https://github.com/facebook/react/pull/28750)
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 juin - 10% de rÃ©duction avec le code Â« TWIR Â». Un programme impressionnant avec notamment Evan Bacon, Kent C. Dodds, Theo, Tim Neutkens, Mark Erikson, Fred Schott et bien d'autres encoreÂ !
- ğŸ“œ [Zustand and React Context](https://tkdodo.eu/blog/zustand-and-react-context)Â : Je suis tout Ã  fait d'accord avec Dominik qui suggÃ¨re de placer votre instance de store Zustand dans un contexte React. De cette faÃ§on, vous pouvez initialiser le store Ã  partir des props, rendre les choses plus faciles Ã  tester, et permettre l'utilisation d'un store sur plusieurs sous-arbres.
- ğŸ“œ [CSS in React Server Components](https://www.joshwcomeau.com/react/css-in-rsc/)Â : Josh explique pourquoi les Styled-Components/Emotion ne fonctionnent pas bien avec RSC, et prÃ©sente des solutions alternatives fournissant une API de style similaire, comme Linaria, Panda, ou Pigment. Evitez le syndrome de FOMO, il n'est pas nÃ©cessaire d'adopter les RSC et ces librairies maintenant si votre application fonctionne dÃ©jÃ  trÃ¨s bien.
- ğŸ“œ [R19, a dead-simple React 19 framework - Part 2 - The Code; How it works under the hood!](https://www.cmrg.me/blog/rsc-part-2-the-code)Â : Une excellente plongÃ©e technique dans ce qu'il faut pour crÃ©er une configuration personnalisÃ©e de React 19 / RSC / Server Actions sur Bun.
- ğŸ“œ [Rebuilding "Remix Contacts" in Next.js 14 with Transitions, Server Actions and Prisma](https://aurorascharff.no/posts/rebuilding-remix-contacts-in-nextjs-14-with-transitions-server-actions-and-prisma/)Â : Une description dÃ©taillÃ©e de la conversion d'une app officielle du tutoriel Remix vers Next.js tout en prÃ©servant le comportement de l'amÃ©lioration progressive. Il explique Ã©galement les diffÃ©rences entre les deux approches et liste les avantages et inconvÃ©nients de chaque implÃ©mentation. Il n'y a pas de gagnant clair, bien que Remix semble assez compÃ©titifÂ !
- ğŸ“œ [The Two-Tree Problem with Styling on the Web](https://danielnagy.me/posts/Post_jt4adn0o5bnr)Â : Une lecture intÃ©ressante sur la sÃ©paration de l'arbre DOM/CSS, et sur la question de savoir si React CSS-in-JS ou Tailwind rÃ©sout ce problÃ¨me. L'auteur est favorable au style en ligne (comme moi, d'ailleurs).
- ğŸ“œ [Improving our Jest execution time by 300%](https://www.camggould.com/posts/Jest-With-RTL-Is-Slow/)Â : Investigations sur le temps d'exÃ©cution de Jest sur une base de code React. getByRole de RTL Ã©tait un goulot d'Ã©tranglement, parmi d'autres points.
- ğŸ“œ [Empathetic Coding - Button Component](https://react-japan.dev/en/blog/empathetic-coding-button-component)Â : Bel article montrant les Ã©tapes de la conception d'un composant bouton React en utilisant TypeScript et Tailwind, en gardant Ã  l'esprit la maintenance et la commoditÃ©.
- ğŸ“œ [Overcoming Next.js' Search Params Limitation in Layouts](https://www.nico.fyi/blog/workaround-layout-has-no-search-params)Â : SuggÃ©re l'utilisation de routes parallÃ¨les pour surmonter cette limitation.
- ğŸ“œ [The process.env frontend time bomb (plus: a sustainable definition of â€œfixedâ€)](https://massimilianomirra.com/notes/the-frontend-process-env-time-bomb-plus-a-sustainable-definition-of-fixed)Â : Au lieu de rÃ©pandre process.env dans votre base de code, il analyse les variables env avec Zod et expose la configuration de l'application dans un contexte React.
- ğŸ“œ [How to Style a React Application](https://alexkondov.com/full-stack-tao-styling/)
- ğŸ“œ [Understanding Layout and Template Next.js App Router](https://www.nico.fyi/blog/understanding-layout-and-template-next-app-router)
- ğŸ“¦ [Next.js View Transitions](https://next-view-transitions.vercel.app/)Â : Shu de Vercel a publiÃ© une implÃ©mentation basique de CSS View Transitions, bien qu'il soit possible que Next.js fournisse cette fonctionnalitÃ© plus tard.
- ğŸ“¦ [XState Store](https://stately.ai/blog/2024-04-10-xstate-store)Â : Nouveau petit gestionnaire d'Ã©tat Ã©vÃ©nementiel de type sÃ©curisÃ©, incluant une API useSelector de React. Cela me rappelle un peu Redux et Zustand.
- ğŸ“¦ [Astro 4.6 - Manual i18n routing, move dev toolbar, CSRF protection, cookiesâ€¦](https://astro.build/blog/astro-460/)
- ğŸ“¦ [Next-Video 1.0 - The easiest way to add video in your NextJS app](https://github.com/muxinc/next-video/releases/tag/v1.0.0)
- ğŸ“¦ [Mantine 7.8.0 - Uncontrolled form mode, form.getValues, form.watch, automatic px to rem conversions](https://mantine.dev/changelog/7-8-0/)
- ğŸ“¦ [NextUI 2.3 - Date/Time/Calendar components](https://nextui.org/blog/v2.3.0)
- ğŸ¥[Theo - From 0 to Production - The Modern React Tutorial (RSCs, Next.js, Shadui, Drizzle, TS and more)](https://www.youtube.com/watch?v=d5x0JCZbAJs)
- ğŸ¥ [React Paris 2024 - Conf Talks YouTube Playlist](https://www.youtube.com/playlist?list=PL53Z0yyYnpWhUzgvr2Nys3kZBBLcY0TA7)
- ğŸ¥ [Ryan Toronto - Handling RSC Errors in Next.js](https://www.youtube.com/watch?v=idEL0dv2V1A)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![FormBuilder SDK for React](/emails/issues/171/tripetto.jpg)](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)

**[FormBuilder SDK for React](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)**

A complete form solution for React projects, used by Fortune 500 companies. With easy-to-use open-source components for building and running powerful forms inside your React app. Extensively documented, up in minutes, and deeply customizable.

- Builder for creating powerful forms;
- Runner for deploying forms and collecting data;
- Flexible form layouts (conversational, chat etc.) and styling;
- Extensible with custom question types;
- Complete docs, examples, and demos;
- Self-hosted without external dependencies;
- Start, test, and perfect for free.

TWIR exclusive: [Get 25% off your FormBuilder SDK license](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk).

---

## ğŸ“± React-Native {#react-native}

[![Is Zero-Bundle-Size React Server Components possible in React Native?](/emails/issues/182/rn0kb.jpg)](https://twitter.com/Baconbrix/status/1780259340458340360)

ğŸ¦ [Is Zero-Bundle-Size React Server Components possible in React Native?](https://twitter.com/Baconbrix/status/1780259340458340360)

Evan Bacon nous rÃ©pond positivement et nous donne un aperÃ§u de ce que l'avenir pourrait nous rÃ©server dans un monde React Native pilotÃ© par les serveurs. Des temps passionnants nous attendentÂ !

---

- ğŸ’¸ [PowerSync â€“ build local-first apps with simple state management and real-time reactivity. Non-invasive to existing architecture.](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- ğŸ¦ [Brent Vatne's automatic batching demos](https://twitter.com/notbrent/status/1778266063832056285)Â : DÃ©couvrez la nouvelle architecture en actionÂ !
- ğŸ¦ [Nice dialog component demo for destructive actions](https://twitter.com/marceloterreiro/status/1779657639745798411)
- ğŸ¦ [The Ignite Cookbook site quietly received several new recipes](https://twitter.com/jamonholmgren/status/1778829659775676653)Â : Supabase & PowerSync
- ğŸ¦ [3D Rendering with RN on Vision Pro](https://twitter.com/o_kwasniewski/status/1780602815167283485)
- ğŸ‘€ [rn.new - Pretty neat way to start a new React Native project](https://rn.new)
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± KrakÃ³w - 22-24 mai. BÃ©nÃ©ficiez d'une [rÃ©duction de 10 %](https://ti.to/appjs/2024/discount/TWIR) avec le code Â« TWIR Â».
- ğŸ“œ [Add shapes and textures to 3D animations with React, Expo and ThreeJS](https://www.themorrow.digital/blog/add-shapes-and-textures-to-3d-animations-with-react-expo-and-threejs)Â : La semaine derniÃ¨re, j'ai parlÃ© d'une bibliothÃ¨que d'animation 3D Ã  venir, mais il existe dÃ©jÃ  des approches de la 3D en RN. Cet article dÃ©crit l'une d'entre elles.
- ğŸ“œ [How To Implement Metro's Http Cache](https://andrei-calazans.com/posts/metro-http-cache/)Â : Saviez-vous que Meta utilise un cache central pour ses devs RN, ce qui signifie que si un dev a dÃ©jÃ  bundlÃ© quelque chose, un autre dev peut bÃ©nÃ©ficier du rÃ©sultat du cache. Cet article dÃ©crit le fonctionnement des caches HTTP distants dans Metro.
- ğŸ“œ [React Strict DOM: The Future of Universal Apps with React Native](https://blog.theodo.com/2024/04/react-strict-dom-react-native-web/)
- ğŸ“œ [Forgotten art of status bar design](https://brainsandbeards.com/blog/2024-forgotten-art-of-status-bar-design/)
- ğŸ“œ [Gist - Apple Privacy Manifest using Expo 50.0.17](https://gist.github.com/catalinmiron/d2cabb835088d0342bc48030464ee615)
- ğŸ“œ [react-native-worklets-core 1.0](https://github.com/margelo/react-native-worklets-core/releases/tag/v1.0.0)
- ğŸ“¦ [VisionCamera 4.0.0-beta.15 - the first beta for Skia Frame Processors](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v4.0.0-beta.15)
- ğŸ“¦ [react-native 0.74.0-rc.9](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.9)Â : Ajoute un template pour un manifeste de confidentialitÃ© iOS Ã  l'Ã©tape du build.
- ğŸ“¦ [Unistyle 2.6 + 2.7 - Add support for tvOS + visionOS](https://github.com/jpudysz/react-native-unistyles/releases)
- ğŸ“¦ [RN Storybook v8.0.0-alpha.4](https://github.com/storybookjs/react-native/releases/tag/v8.0.0-alpha.4)
- ğŸ¥ [Simon Grimm - 10 Epic React Native Animation Libraries](https://www.youtube.com/watch?v=8CZy6DjDXK0)
- ğŸ¥ [The Size of Your App Matters | React Native Optimization Shorts 2](https://www.youtube.com/watch?v=d2xlQRoea-8)
- ğŸ™ï¸ [Rocket Ship 38 - Expo EAS and 100 Snakes with Jon Samp](https://share.transistor.fm/s/6896005f)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ‡«ğŸ‡· [ReactHebdo.fr - DerniÃ¨res Ã©ditions traduites en franÃ§ais](https://thisweekinreact.com/fr/newsletter)
- ğŸ“œ [Biome.js : Prettier+ESLint killer](https://walterspieler.dev/fr-fr/blog/biome-js-prettier-eslint-killer)
- ğŸ¥ [DÃ©velopper des sites de documentation rapidement avec Docusaurus](https://www.youtube.com/watch?v=LC_Q-Xl0TXE)
- ğŸ¥ [Tutoriel TailwindCSS en 1 Heure - Comprendre lâ€™essentiel en 2024](https://www.youtube.com/watch?v=UgIvT5L92Rg)
- ğŸ™ï¸ [Les News Web Dev Avril 2024 - Node.js, Bun, Solito, Remix, WebComponents, Wizâ€¦](https://double-slash.dev/podcasts/news-04-24/)

---

## ğŸ”€ Autre {#other}

- ğŸ“œ [Updates from the 101th TC39 meeting - Set methods, Regex, Promise.try, isError, Signalsâ€¦](https://dev.to/hemanth/updates-from-the-101th-tc39-meeting-1mm)
- ğŸ“œ [The Making of a TypeScript Feature: Inferring Type Predicates](https://effectivetypescript.com/2024/04/16/inferring-a-type-predicate/)
- ğŸ“œ [Deno - How we built JSR](https://deno.com/blog/how-we-built-jsr)
- ğŸ“œ [You probably don't need GraphQL](https://mxstbr.com/thoughts/graphql)
- ğŸ“œ [Node.js collaboration summit (2024 London)](https://nodejs.org/en/blog/events/collab-summit-2024-london)
- ğŸ“œ [Deep Dive into Rspack & Webpack Tree Shaking](https://github.com/orgs/web-infra-dev/discussions/17)
- ğŸ“¦ [Safari Technology Preview 192 - CSS View transitions, URL.parse()](https://webkit.org/blog/15260/release-notes-for-safari-technology-preview-192/)
- ğŸ“¦ [Rspack v0.6 - built-in css extract plugin, enable new treeshaking](https://www.rspack.dev/blog/announcing-0.6.html)
- ğŸ“¦ [pnpm 9.0 - Drop Node 16, improve lockfile format and resolution](https://github.com/pnpm/pnpm/releases/tag/v9.0.0)
- ğŸ“¦ [Biome 1.7 - improve ESLint/Prettier migration CLI](https://biomejs.dev/blog/biome-v1-7/)
- ğŸ“¦ [Effect 3.0 - API Stable](https://effect.website/blog/effect-3.0)
- ğŸ“¦ [gql.tada 1.5 - Pesisted Ops, Turbo mode, new CLI](https://gql-tada.0no.co/devlog/2024-04-15)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/182/meme.jpg)](https://twitter.com/bndkt/status/1780615189202907426)

A plus ğŸ‘‹
