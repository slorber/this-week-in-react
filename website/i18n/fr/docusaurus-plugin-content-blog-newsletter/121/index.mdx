---
slug: /121
title: "React Hebdo #121: Next.js, experimental_cache, Qwikify, CSS-in-JS, Typesafety, 3D, Vitest Preview, Outstatic, Remix, React-Native..."
authors: [slorber]
date: 10-25-2022
---

Salut à tous !

La semaine dernière je me suis trompé, j'ai envoyé l'édition 220 au lieu de 120 😅 Personne n'a remarqué, ça doit pas être très grave.

C'est la saison des conférences. Le replay ViteConf est disponible, React Advanced vient juste de se terminer, et d'autres vont suivre.

La conférence Next.js démarre dans quelques heures. On va surement avoir une annonce de Next.js 13, avec les nested layouts, et d'autres trucs super cools qui commencent par Turbo 🤭. On en parle la semaine prochaine!

On a aussi tous les clouds qui se sont mis d'accord pour améliorer leur support Next.js en même temps: Netlify, Cloudflare, Microsoft...

Ne manquez pas non plus la saison 5 des vidéos React-Native de William Candillon qui démarre aujourd'hui!

<!-- truncate -->

**💡 [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![Sizzy - le navigateur pour les développeurs](/emails/issues/120/sizzy.jpg)](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact)

Les professionnels de tous les autres secteurs d'activité disposent d'outils spécialisés, mais les développeurs Web sont toujours obligés d'utiliser le navigateur que leur grand-mère utilise pour faire ses courses sur Amazon ?

Si vous ouvrez localhost:3000 dans un autre navigateur que Sizzy, vous perdez des heures de votre temps précieux.

**Avant Sizzy:** le développement web vous stresse, le responsive design est difficile, vous avez une quantité écrasante d'onglets et d'applications ouverts.

**Après Sizzy:** tous les outils dont vous avez besoin sont au même endroit, le responsive design est un jeu d'enfant, plus de changement de contexte.

Vous pouvez le [télécharger ici](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact) et l'essayer gratuitement pendant 14 jours !

---

## ⚛️ React {#react}

**[Why We're Breaking Up with CSS-in-JS](https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b)**

Sam est un des principaux maintainer d'Emotion, une des libs CSS-in-JS les plus populaires. Il explique les avantages et inconvénients du CSS-in-JS, avec un focus sur les librairies avec runtime. Pour son app Spot, le cout de serialisation des styles était trop élevé. Ils ont remplacé Emotion par des Sass modules (CSS modules + Sass) avec un système de CSS utilitaire. Sur Docusaurus, on utilise CSS modules et je confirme que c'est une bonne alternative no-runtime et relativement simple. La DX n'est pas aussi bonne mais reste cependant largement acceptable.

Cet article a lancé de nombreuses discussions intéressantes. On sait depuis un moment que les librairies CSS-in-JS avec runtime causent des problèmes de performance. [Dan Abramov confirme](https://twitter.com/dan_abramov/status/1584835028986793984) et [ne veut pas utiliser de runtime sur la nouvelle doc](https://github.com/reactjs/reactjs.org/issues/5115). Ryan Florence mentionne [des problèmes de performance lié à Chakra](https://twitter.com/ryanflorence/status/1582835729360572416), qui utilise Emotion.

Tailwind est aussi une bonne alternative. Pour moi, on peut le ranger Tailwind dans la catégorie CSS-in-JS no-runtime, en particulier dans un contexte React dans lequel le styling Tailwind se fait via du JSX. Certains questionnent sa [maintenabilité](https://twitter.com/hi__mayank/status/1584261503670448128), mais en pratique cela marche plutôt bien.

**[Qwik React](https://qwik.builder.io/qwikcity/integrations/react/)**

Qwik est un framework SPA innovant qui [évite les problèmes de performances liés à l'hydratation](https://www.builder.io/blog/hydration-is-pure-overhead). Il peut maintenant s'intégrer avec React par le biais d'une fonction `qwikify$()` pour wrapper n'importe quel composant React. Des directives `client:xyz` (inspiré de Astro) permettent de controller avec beaucoup de granularité quand le composant React sera hydraté. Leur démo intègre Material UI dans une app Qwik. Voir aussi [cette video](https://www.youtube.com/watch?v=fLH28rDu97I). Je trouve que c'est une bonne solution qui permet d'éviter de faire un all-in sur ce nouveau framework. On peut conserver les propriétés cross-platform de React, tout en adoptant Qwik sur le web pour améliorer les performances.

**[Fully Typed Web Apps](https://www.epicweb.dev/fully-typed-web-apps)**

Kent C. Dodds explique l'interet d'avoir une app typée de bout en bout, de la DB jusqu'a l'UI, à travers les différentes limites: réseau, localstorage, DB... Il évoque la validation (schema, type guards), la génération de types (Prisma) ou encore les conventions (Remix). Il explique comment cette expérience est possible avec Remix, grâce à l'inférence: il vaut mieux utiliser `typeof` que `as`.

**[Building an interactive WebGL experience in Next.js](https://vercel.com/blog/building-an-interactive-webgl-experience-in-next-js)**

Vercel explique comment ils ont créé une [expérience de signup immersive impressionnante pour la conf Next.js](https://nextjs.org/conf), en se basant sur React-Three-Fiber. Cela reste complexe à comprendre sans expérience 3D / WebGL / Three.js, mais la déconstruction en étapes successives est intéressante et donne un aperçu de l'état d'esprit à adopter pour faire du dev créatif.

- 👀 [React Cache API Pull-Request](https://github.com/facebook/react/pull/25506): expose `React.experimental_cache`
- 📖 [New beta doc - cloneElement](https://twitter.com/dan_abramov/status/1582814754426433537)
- 📦 [Vitest Preview](https://www.vitest-preview.com/): permet de debugger visuellement ses tests Vitest, petit frère de [Jest Preview](https://www.jest-preview.com/).
- 📦 [Outstatic - A static CMS for Next.js](https://outstatic.com/): nouveau CMS open-source basé sur Git, qui s'intègre bien avec Next.js. Editeur user-friendly avec possibilité d'uploader des images.
- 📜 [Netlify - Background and Scheduled API Routes for Next.js](https://www.netlify.com/blog/new-background-scheduled-api-routes-nextjs/): Netlify utilise ses background functions permettre l'execution plannifiée de routes Next.js (cron expression).
- 📜 [Cloudflare Pages support for Next.js Edge Runtime](https://blog.cloudflare.com/next-on-pages/): Cloudflare supporte maintenant Next.js, uniquement via le runtime `experimental-edge` qui peut tourner sur les Cloudflare Workers. Leur solution est basée sur [Vercel Build Output API](https://vercel.com/blog/build-output-api), qui semble ouvrir la voie sur une meilleur portabilité des frameworks edge entre différents clouds.
- 📜 [Microsoft - Extending Next.js support in Azure Static Web Apps](https://techcommunity.microsoft.com/t5/apps-on-azure-blog/extending-next-js-support-in-azure-static-web-apps/ba-p/3627975): Azure va maintenant supporter le mode SSR de Next.js (avant: seulement SSG).
- 📜 [Persist inputs after a form submit in Remix](https://sergiodxa.com/articles/persist-inputs-after-a-form-submit-in-remix): propose une solution compatible progressive enhancement pour garder les valeurs d'un formulaire après une soumission. 2 solutions proposées: retourner les valeurs dans l'action Remix ou utiliser la session flash.
- 📜 [Currying Layout Component Patterns in Next.js](https://creativedesignsguru.com/currying-nextjs-layout/): suggère de paramétriser la fonction `getLayout` de Next.js pour créer de légères variations de layout sans pour autant unmount/remount. Sera peut-être moins d'actualité avec le support des nested layouts.
- 📜 [Throwing vs. Returning responses in Remix](https://sergiodxa.com/articles/throwing-vs-returning-responses-in-remix)
- 📜 [Lessons learned from moving to Recoil.js](https://kitemaker.co/blog/lessons-learned-from-moving-to-recoil)
- 📜 [Separate API Layers In React Apps](https://profy.dev/article/react-architecture-api-layer)
- 🎥 [Is the new React use hook a footgun?](https://www.youtube.com/watch?v=ytXM05PVcFU)
- 🎥 [React Advanced London 2022 - Day 1](https://www.youtube.com/watch?v=1x7mI_xuVVo)
- 🧵 [Lottie vs Rive](https://twitter.com/guidorosso/status/1582086637328031745): Lottie est populaire dans les apps React mais son compétiteur Rive semble plus performant au runtime.
- 🐦 [Zustand code in a tweet](https://twitter.com/dai_shi/status/1583082766081531905)
- 🔗 [New website for Storybook](https://twitter.com/storybookjs/status/1583175829009289216)

<SubscribeFormEmbed />

---

## 💸 Sponsor {#sponsor2}

[![premier octet - Agence de développement React](/emails/issues/120/premieroctet.jpg)](https://www.premieroctet.com/?utm_source=react_hebdo)

**[Premier Octet - Agence de développement React](https://www.premieroctet.com/?utm_source=react_hebdo)**

Premier Octet est une agence de développement d'applications web et mobile. Depuis 2008, nous accompagnons de nombreux clients grâce à notre expertise en **React et React Native**.

Plus concrètement, nous intervenons en développement, conseil, audit ou formation, sur des thématiques JavaScript serveur et front. Nos projets embarquent des technologies open source telles que :

- Next.js
- Nest.js
- ChakraUI
- NativeBase
- Strapi

N'hésitez pas à aller voir notre site [premieroctet.com](https://www.premieroctet.com/?utm_source=react_hebdo) pour plus d'informations !

---

## 📱 React-Native {#react-native}

- 🎥 [Headspace Player - “Can it be done in React Native?”](https://www.youtube.com/watch?v=pErnuAx5GjE): la saison 5 démarre 🤗
- 🤫 [Some rumors going around about Expo SDK 47](https://twitter.com/tsapeta/status/1582831949030522881): un SDK prometteur!
- 🗣 [The new architecture is here… what now? 3.0](https://twitter.com/Kelset/status/1583416697741975552): slides du talk de Lorenzo (Microsoft) à React Advanced.
- 📈 [React-Native performance brenchmarks](https://twitter.com/almouro/status/1584628478963777537): Alexandre fait des benchmarks quotidiens et compare les performances de l'ancienne VS la nouvelle architecture sur divers scenarios.
- 📖 [Reassure documentation](https://callstack.github.io/reassure/): nouveau site Docusaurus en ligne 🤗
- 📖 [Expo Docs Updates - new Flipper plugin integration guide](https://twitter.com/amanhimself/status/1583202477469765633)
- 📦 [create-react-native-library 0.25](https://twitter.com/satya164/status/1583462129235263490): Kotlin Turbo module template
- 📦 [Expo Router 0.0.31](https://twitter.com/Baconbrix/status/1582875434567409664)
- 📦 [Expo Router 0.0.33](https://twitter.com/Baconbrix/status/1584289284713947136)
- 📦 [Realm JavaScript v11 - Hermes Support, Realm React, Flipper, and Much More](https://www.mongodb.com/developer/products/realm/realm-javascript-v11-react-native/)
- 🎙️ [RNR 249 - A Redux Maintainer’s Thoughts on RTK vs MST](https://reactnativeradio.com/episodes/rnr-249-a-redux-maintainers-thoughts-on-rtk-vs-mst)

---

## 🧑‍💻Jobs {#jobs}

🧑‍💼 [**Linxea - Lead Dev React.js - 60-75k€**](https://www.welcometothejungle.com/fr/companies/linxea/jobs/lead-dev-react_paris)

Plateforme leader de l’épargne en ligne.
Stack tech : ReactJS, Redux, Saga, Formik, Storybook, Webpack, Typescript.
Skills : architecture, développement, pratiques craft (clean architecture, clean code ,TDD), mentoring et formation des équipes.
Paris 75008 - 2j de TT/sem.

🧑‍💼 [**Matters - Senior Software Engineer (React/Node)**](https://bit.ly/NLReactH)

Envie de challenges et de contribuer à des réussites entrepreneuriales ? Rejoins notre startup studio pour construire des produits variés et complexes dans une culture devOps, une stack JS, des code reviews, tests et déploiements automatisés. Paris, remote flexible, 50K€-65K€.

🧑‍💼 [**Masteos - Lead ReactJS - Hybride ou Remote - 75-90k€**](https://www.welcometothejungle.com/fr/companies/masteos/jobs/lead-front-reactjs-h-f_paris?q=97ae44f44512e0f1968e134f33de64ea&o=1376093)

Masteos réinvente l’expérience de l’investissement locatif, en proposant un parcours entièrement dématérialisé et un accompagnement de haut niveau aux particuliers qui souhaitent acheter un bien pour le louer.

💡 [Comment publier une offre d'emploi ?](https://thisweekinreact.com/fr/sponsor)

---

## 🇫🇷 En français {#fr}

- 🎥 [Je code un portfolio/jeu vidéo | React, Three.js](https://www.youtube.com/watch?v=N-UBmNbN4yg)
- 🎥 [Apprendre useEffect en 18 minutes](https://www.youtube.com/watch?v=fmsTYrfZdao)
- 🎥 [À quoi sert le nouvel opérateur "satisfies" de TypeScript ?](https://www.youtube.com/watch?v=aQ0s-tv4dJc)

💡Tu peux m'envoyer ton contenu: [sebastien@thisweekinreact.com](mailto:sebastien@thisweekinreact.com?subject=Contenu%20en%20fran%C3%A7ais) !

---

## 🔀 Autre {#other}

- [Let’s talk about web components](https://bradfrost.com/blog/post/lets-talk-about-web-components/): lecture intéressante de Brad Frost sur les Web Components, qui ne sont pas nécessairement incompatibles avec React mais peuvent le compléter (ex: un design system dans une app React). Les difficultés actuelles (SSR) finiront par être surmontées.
- [Replit App](https://twitter.com/amasad/status/1582754714575257600): nouvelle app pour coder sur son téléphone (faite avec [Expo](https://twitter.com/amasad/status/1582968657675661314)). Il y a des templates pour coder en Next.js.
- [Introducing Node.js 19](https://www.redhat.com/en/blog/introducing-nodejs-19) - Note: Node.js 18 entre en LTS aujourd'hui
- [Introducing Stately Studio 1.0](https://stately.ai/blog/introducing-stately-studio-10): l'éditeur pour state machines XState
- [Vite 4 plans](https://github.com/vitejs/vite/discussions/10570): upgrade vers Rollup 3, es2020 compat...
- [ViteConf 2022 replay](https://viteconf.org/2022/replay)
- [Turborepo 1.6 - Use Turborepo in non-monorepos](https://twitter.com/turborepo/status/1583518617970233346)
- [Solid 1.6](https://twitter.com/solid_js/status/1583016386984480768)
- [Futuristic CSS](https://www.smashingmagazine.com/2022/10/futuristic-css/)
- [Is There Too Much CSS Now?](https://css-tricks.com/is-there-too-much-css-now/)
- [npm bin script confusion: Abusing ‘bin’ to hijack ‘node’ command](https://socket.dev/blog/npm-bin-script-confusion)
- [Tailwind CSS v3.2: Dynamic breakpoints, multi-config, and container queries](https://twitter.com/adamwathan/status/1582793658168152065)
- [Tailwind CSS v3.2: revisiting my “feature creep” warning](https://www.brycewray.com/posts/2022/10/tailwind-css-v3-2-revisiting-feature-creep-warning/)
- [Can I DevTools - Compare the features of browsers DevTools. ](https://canidev.tools)
- [Vercel - Regional Edge Functions](https://vercel.com/blog/regional-execution-for-ultra-low-latency-rendering-at-the-edge)
- [Deno - Which serverless edge platform has the fastest git deployments?](https://deno.com/blog/fastest-git-deploys-to-the-edge)
- [Cloudflare Workers and micro-frontends: made for one another](https://blog.cloudflare.com/better-micro-frontends/)
- [Blink: Intent to Ship: CSS Color Module Level 4 + color-mix()](https://twitter.com/intenttoship/status/1583110354074116096)
- [Release Notes for Safari Technology Preview 156](https://webkit.org/blog/13394/release-notes-for-safari-technology-preview-156/)
- [WebKit Features in Safari 16.1](https://webkit.org/blog/13399/webkit-features-in-safari-16-1/)
- [JavaScript metaprogramming with the 2022-03 decorators API](https://2ality.com/2022/10/javascript-decorators.html)

---

## 🤭 Fun {#fun}

[![Meme - VSCode running on iWatch](/emails/issues/121/meme.png)](https://twitter.com/rohanpdofficial/status/1583455633134977026)
