---
slug: /172
title: "React Hebdo #172: Next.js, PPR, Remotion, State of React Native, Parcel, Panda, StyleX, Cosmos, Remix, RTK, TypeScript, Skia, Reanimated, RNTL, Storybook, Flashlight, Tamagui..."
authors: [slorber]
date: 01-31-2024
---

Salut à tous !

**[@ThisWeekInReact](https://twitter.com/ThisWeekInReact)** est notre tout nouveau compte X, abonnez-vous ! Le but est d'y partager et de retweeter les choses intéressantes qui se passent dans la communauté React en temps réel, avec un rapport signal/bruit le plus élevé possible.

Cette semaine, les React Server Components ont été une fois de plus le sujet de divers articles et discussions. La communauté a des sentiments mitigés sur Next.js App Router. Même si les gens adhèrent à la vision, ils semblent un peu déçus par son implémentation actuelle. Espérons que ce ne soit que temporaire 🤞.

React Native a été particulièrement intéressant cette semaine. Les résultats du sondage [State of React Native](https://results.stateofreactnative.com/) ont été publiés, et le sentiment général à l'égard de React Native est de plus en plus positif. Il y a également des éléments intéressants liés à Skia, Reanimated, ou le mode bridgeless. La communauté est enthousiaste à l'idée qu'Expo devienne un framework universel full-stack.

Bonne lecture !

<!-- truncate -->

**💡 [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "../_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![ Axiom - the best logging platform for Vercel apps](/emails/issues/171/axiom.jpg)](https://axiom.co/vercel)

**[ Axiom - the best logging platform for Vercel apps](https://axiom.co/vercel)**

😴 Sleep peacefully knowing that Axiom’s zero-config observability for Vercel projects has you covered.

- Use Axiom's pre-built dashboard for an overview across all your Vercel logs and vitals, drill down to specific projects and deployments, and get insight on how functions are performing with a single click.
- [next-axiom](https://github.com/axiomhq/next-axiom) allows you to send logs and events from any part of your Next.js projects - client, edge, or server-side - without any special configuration.
- Easily send structured logs directly from your code and analyze them together with Vercel logs.

Axiom efficiently captures 100% of your event data so you’ll never have to worry about sampling or retention, and you’ll never have to guess what your users are experiencing.

**PS**: [I use it myself to monitor the newsletter signups](https://twitter.com/sebastienlorber/status/1528666563452317696) 😉

---

## ⚛️ React {#react}

[![Next.js Explained](/emails/issues/172/ppr.jpg)](https://www.youtube.com/watch?v=MTcPrTIBkpA)

🎥 [**Next.js Explained - Partial Prerendering**](https://www.youtube.com/watch?v=MTcPrTIBkpA)

Il n'est pas fréquent qu'une vidéo fasse les gros titres ici, mais celle-ci est différente pour plusieurs raisons.

Tout d'abord, le sujet est très intéressant et bien expliqué avec de nombreuses visualisations animées. Le Partial Prerendering est une [fonctionnalité expérimentale de Next.js 14](https://nextjs.org/blog/next-14#partial-prerendering-preview) qui complète la vision de Next.js et offre le meilleur des deux mondes entre le rendu statique et dynamique. Cela fait de Next.js un framework multi-paradigme qui prend en charge une grande diversité de rendus. Cette nouvelle fonctionnalité est simple à adopter, elle s'appuie sur Suspense et n'introduit pas de nouvelles API : il suffit d'activer un flag.

Deuxièmement : cette vidéo incroyablement bien réalisée a été créée avec [Remotion](https://www.remotion.dev/), en utilisant du code React web 🙉. Superbe travail Delba ! Nous sommes impatients de voir d'autres vidéos comme celle-ci et d'en savoir plus sur ton processus créatif avec Remotion. Dans le même ordre d'idées, l'équipe Remotion vient de partager un [behind the scene du projet GitHub Unwrapped 2023](https://www.youtube.com/watch?v=WW8vIZ1kwR0).

---

- 💸 [Accelerate your workflow with MightyMeld, a visual dev tool for React codebases. Drag, drop, click, and prompt your UI into place while you hand-code the rest of it.](https://www.mightymeld.com/?utm_source=thisweekinreact5&utm_medium=newsletter&utm_campaign=1&utm_content=top)
- 👀 [React core PR - react-server-dom-parcel package](https://github.com/facebook/react/pull/28138): Devon travaille sur une nouvelle integration RSC pour le bundler Parcel.
- 👀 [Remix - support for Cloudflare through the Remix Vite plugin](https://github.com/remix-run/remix/tree/dev/templates/unstable-vite-cloudflare)
- 🐦 [Partykit - Real-time React Server Component sneak-peek](https://twitter.com/threepointone/status/1751963277394116993)
- 📜 [My first impressions of Panda CSS](https://newsletter.baptiste.devessier.fr/archive/my-first-impressions-of-panda-css/): Baptiste aime Tailwind mais préfère désormais Panda pour de multiples raisons, notamment la typesafety, la possibilité de grouper les styles et de les rendre plus lisibles, et la fusion des styles et des variantes.
- 📜 [Fix Next.js Routing to Have Full Type-Safety](https://www.flightcontrol.dev/blog/fix-nextjs-routing-to-have-full-type-safety): la fonctionnalité expérimentale typedRoute de Next.js n'est pas suffisante. Brandon améliore le typage du routage (page params, search params, liens...) grâce à une API `makeRoute()`.
- 📜 [Migrating to Next.js App Router: the good, bad, and ugly](https://www.flightcontrol.dev/blog/nextjs-app-router-migration-the-good-bad-and-ugly): Flightcontrol a reconstruit de zéro leur dashboard avec Next.js App Router et partage un retour d'expérience. Il y a du positif, mais globalement leur équipe aurait choisi Remix à la place, et ils préfèreraient carrément utiliser un autre langage que d'utiliser à nouveau le serveur de développement Next.js 😅 À noter qu'ils sont bloqués sur Next.js 13.5 et que les performances se sont améliorées dernièrement.
- 📜 [How To Use forwardRef With Generic Components](https://www.totaltypescript.com/forwardref-with-generic-components): Matt propose un wrapper autour de forwardRef pour redéfinir ses types et fixer les problèmes d'inférence.
- 📜 [Updating public Next.js environment variables without rebuilds](https://phase.dev/blog/nextjs-public-runtime-variables/): les variables d'env NEXT_PUBLIC sont inlinées dans le bundle client lors du build. Cet article propose un script find-and-replace pour pouvoir les updater sans rebuilder l'app.
- 📜 [How to start a React Project in 2024](https://www.robinwieruch.de/react-starter/): Robin explique les tradeoffs de démarrer un projet avec Vite, Next.js ou Astro.
- 📜 [Including static files in App Router RSCs](https://www.hipstersmoothie.com/blog/posts/including-static-files-with-rscs): montre l'usage de quelques features Webpack avancées: require.context et inline loaders.
- 📜 [Take a Qwik Break from React with Astro](https://thenewstack.io/take-a-qwik-break-from-react-with-astro/): Paul compare Qwik et React à travers plusieurs exemples. “Write code like React, Browser tastes of Vanilla”.
- 📜 [Where do React Server Components fit in the history of web development?](https://dev.to/matfrana/where-do-react-server-components-fit-in-the-history-of-web-development-1l0f)
- 📦 [Remix-Client-Cache - using clientLoader to cache server loader data](https://github.com/Code-Forge-Net/remix-client-cache)
- 📦 [StyleX 0.5 - new stylex.attrs function, ESLint sort-keys rule, Babel aliases option, esbuild plugin](https://stylexjs.com/blog/v0.5.0)
- 📦 [React Cosmos 6 - Sandbox for developing and testing UI components in isolation - RSC support, plugin system, integrations (Vite,Webpack, Next.js, RN), Lazy Mode, MDX fixtures…](https://github.com/react-cosmos/react-cosmos/releases/tag/v6.0.0)
- 📦 [Panda CSS 0.29 - config validation, default values in patterns, media-quey tokens, color opacifier…,](https://github.com/chakra-ui/panda/discussions/2110)
- 📦 [React-Live-Chat-Loader 2.9 - Performant live chat integration - Add support for HubSpot/Front](https://github.com/calibreapp/react-live-chat-loader/)
- 📦 [fumadocs - powerful framework for building documentation sites in Next.js](https://github.com/fuma-nama/fumadocs)
- 📦 [React Bricks 4.2 - RSC support](https://docs.reactbricks.com/docs/rsc/visual-components/)
- 📦 [Redux Toolkit 2.1](https://github.com/reduxjs/redux-toolkit/releases/tag/v2.1.0)
- 🎥 [Jack Herrington - Are RSCs and NextJS Really That Bad?](https://www.youtube.com/watch?v=u0OMdWJfdhg): compare coté à coté 3 exemples ou l'App Router offre une meilleur DX comparée au Page Router, et met en avant la facilité avec laquelle on peut encapsuler et distribuer des RSC dans des packages.
- 🎥 [Nadia Makarevich - Advanced React - All about memoization in React](https://www.youtube.com/watch?v=huBxeruVnAM)

<SubscribeFormEmbed placement="middle" />

---

## 💸 Sponsor {#sponsor2}

[![Complete User Management for React](/emails/issues/172/clerk.jpg)](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=01-31-24)

**[Complete User Management for React](https://clerk.com/?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=01-31-24)**

Clerk streamlines React app authentication and user management, ensuring a quick setup for the modern web.

Experience the benefits of Clerk:

- 💅 Pre-built UI components for sign-in, sign-up, user profiles, and organizations. Customize with any CSS library and deploy on your domain
- 📦 SDKs for React, React Native, Next.js, Redwood, Remix, and other frameworks
- ⚡ Integrations with Firebase, Supabase, Convex, and other BaaS providers
- 🎁 User management, social login, magic links, MFA, and more out of the box

Dive into Clerk's [quickstarts and tutorials](https://clerk.com/docs/quickstarts/overview?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=01-31-24) to kickstart your project🚀

---

## 📱 React-Native {#react-native}

Cette section est désormais co-écrite avec [Benedikt](https://twitter.com/bndkt). N'hésitez pas à nous envoyer vos commentaires par email ou sur [Twitter](https://twitter.com/bndkt) !

[![State of React Native 2023 - Survey Results](/emails/issues/172/stateofrn.jpg)](https://results.stateofreactnative.com/)

**[State of React Native 2023 - Survey Results](https://results.stateofreactnative.com/)**

Je suis un grand fan de tous les sondages "State of ...", car ils nous donnent un aperçu unique de ce qui se passe dans l'écosystème. C'est une chose de suivre la hype médiatique généré sur X et ailleurs, mais c'en est une autre de voir les statistiques de ce que les développeurs utilisent réellement. Je suis donc très heureux de voir les résultats de l'état de React Native de l'année dernière publiés ! Et comme c'est maintenant la deuxième année que ce sondage est mené, nous pouvons commencer à identifier certaines tendances en comparant les résultats à ceux de l'année précédente. Pour tous les détails, [jetez un coup d'œil aux résultats] (https://results.stateofreactnative.com/) ! Je me contenterai de souligner quelques points que j'ai trouvés intéressants et dont certains m'ont vraiment surpris :

- Le state management est dans tous ses états ! Redux prenant la dernière place en termes de rétention avec seulement 44 % (en baisse par rapport à 57 % l'année dernière), mais s'accrochant toujours à la deuxième place après les capacités natives de React en termes d'utilisation avec 78 % (en baisse par rapport à 85 %).
- Le data fetching est une catégorie où les résultats sont conformes à ce que nous attendions, avec TanStack Query et tRPC qui occupent les premières places en termes d'intérêt et de rétention. Relay est pratiquement inutilisé en dehors de Meta avec seulement 5 % d'utilisation.
- L'avenir de la navigation est Expo Router, qui a explosé de 12 % d'utilisation l'année dernière à 40 % aujourd'hui.
- Le styling semble être la catégorie la plus compétitive, avec une abondance d'options. En termes d'utilisation, les classiques (StyleSheet API, inline styling, styled components) restent des options dominantes, avec NativeWind et Tamagui qui les rattrapent. Tamagui a réussi à susciter le plus d'intérêt au cours de l'année écoulée (et a également le plus de rétention et d'intérêt en tant que bibliothèque de composants d'interface utilisateur), suivi de près par un nouveau concurrent : react-native-unistyles.
- Bravo à Expo qui a créé 6 des 10 outils les plus populaires dans la catégorie "Outils React Native", et les 2 meilleures options pour le déploiement.
- Plus de 85 % des répondants pensent que React Native évolue dans la bonne direction. La part des développeurs qui trouvent que la création d'applications RN est trop complexe actuellement a diminué d'environ 30 % à 25 % - c'est encore trop, mais nous semblons évoluer dans la bonne direction !

Dans l'ensemble, des résultats vraiment intéressants qui méritent d'être [étudiés en détail](https://results.stateofreactnative.com/) ! Un grand merci à Bartłomiej, Kacper et Software Mansion pour avoir rendu cela possible !

---

- 💸 [Moropo - Stop Losing Days to Detox and Build Meaningful Tests in Minutes](https://www.moropo.com?utm_source=newsletter&utm_medium=emails&utm_campaign=twir-20240131)
- 👀 [React Native 0.74 PR - Make bridgeless mode the default when the New Architecture is enabled](https://github.com/facebook/react-native/pull/42714)
- 👀 [Reanimated PR - Generators support](https://github.com/software-mansion/react-native-reanimated/pull/5565): William Candillon est productive en écrivant des animations avec des générateurs (🐦 [demo](https://twitter.com/wcandillon/status/1751893521907261773)), et a dans ce sens contribué cette feature dans Reanimated.
- 👀 [Flashlight React Native performance dashboard](https://app.flashlight.dev/projects/react-native): utilise Flashlight pour mesurer la performance de toutes les versions React Native sur divers scenarios, dans le but de détecter les améliorations et regressions de performance de React Native core. Pour l'instant il n'y en a qu'un seul basé sur FlatList.
- 🐦 [React Native visionOS - New 𝚂𝚙𝚊𝚝𝚒𝚊𝚕 API coming soon to](https://x.com/o_kwasniewski/status/1750532404245373434?s=20)
- 📖 [Expo Docs - Using Sentry](https://docs.expo.dev/guides/using-sentry/): utiliser Sentry avec Expo est plus facile avec le SDK 50, il suffit d'utiliser la dépendance `@sentry/react-native`, et plus besoin de configurer des hooks dans `app.json`.
- 📖 [Skia Docs - new Atlas component - efficiently draw a very large number of similar textures/images](https://shopify.github.io/react-native-skia/docs/shapes/atlas/): voir également cette belle 🐦 [demo](https://twitter.com/alihdjr/status/1751175731533488464) du composant Atlas.
- 🧑‍🎓 [Build and Deploy React Native Apps with Expo EAS - Free Egghead course from Expo’s Kadi Kraman](https://egghead.io/courses/build-and-deploy-react-native-apps-with-expo-eas-85ab521e)
- 📜 [John Gruber - Apple’s Plans for the DMA in the European Union](https://daringfireball.net/2024/01/apples_plans_for_the_dma): Apple a annoncé la possibilité d'utiliser un App Store alternatif et un runtime JS autre que Webkit pour l'Europe, pour être conforme aux demandes de l'Union Européenne. Mais en pratique cela est difficilement utilisable, et la presse a décrit cela comme une "conformité malveillante". (voir aussi: 📖 [Apple Developer Docs - Alternative Browser Engines](https://developer.apple.com/support/alternative-browser-engines/))
- 📜 [Recommended practices for React Native Testing Library in 2024](https://mdj.hashnode.dev/recommended-practices-for-react-native-testing-library-in-2024): l'auteur de la lib Maciej partage diverses astuces et nouvelles APIs à connaitre, comme l'API screen ou l'usage de semantic queries.
- 📜 [Communicating with React Native Web Views](https://making.close.com/posts/react-native-webviews): L'utilisation de WebViews peut être un bon moyen de réutiliser des parties d'une application web, mais ces parties peuvent aussi se sentir déconnectées de la partie native. Cet article montre comment éviter cela en établissant une communication entre le natif et le web via un bridge fortement typé.
- 📜 [Building a PhotoRoom-like background remover app with React Native and Skia](https://medium.com/@ludwighenne/building-a-photoroom-like-background-remover-app-with-react-native-and-skia-%EF%B8%8F-540743c6ec0f)
- 📦 [React Native Storybook 7](https://github.com/storybookjs/react-native/discussions/545): la version React Native de Storybook a rattrapé son retard sur le projet parent.
- 📦 [React Native 0.73.3 - Bug fixes](https://github.com/facebook/react-native/releases/tag/v0.73.3)
- 📦 [vision-camera-resize-plugin 2.0: Full rewrite to C++, much faster performance, and customizeable cropping logic](https://github.com/mrousavy/vision-camera-resize-plugin/releases/tag/v2.0.0)
- 📦 [Tamagui 1.88 - Biggest Tamagui release, brings Expo SDK 50 support, simplifies setup via new Metro plugin](https://github.com/tamagui/tamagui/releases/tag/v1.88.0)
- 📦 [Create Expo Stack 2.4 - Starter with Expo SDK 50, Expo Router v3, NativeWind v4, Shopify’s Restyle, and Unistyles](https://github.com/danstepanov/create-expo-stack/releases/tag/create-expo-stack%402.4.0)
- 🎙️ [RNR 286 - What’s new in React Native 0.73?](https://x.com/ReactNativeRdio/status/1751015494591918434?s=20)
- 🎙️ [Rocket Ship 27 - React Native’s Superpower with Theo Browne](https://share.transistor.fm/s/5b8f8a1a)
- 🎥 [Simon Grimm - Can this replace NextJS?](https://www.youtube.com/watch?v=gzehQxHxtfw): Expo Router qui devient un framework fullstack universel en fait maintenant un concurrent direct à Next.js.
- 🎥 [Theo Brown - Mobile Devs Hate Servers. Expo Wants To Fix That.](https://www.youtube.com/watch?v=2P0q1EdH_oQ)

---

## 🇫🇷 En français {#fr}

- 📜 [Drag and drop d'une liste avec la librairie dnd-kit et Next.js](https://www.devaidaya.fr/articles/drag-and-drop-dune-liste-avec-la-librairie-dnd-kit-et-next.js)
- 🎥 [React Testing playlist](https://www.youtube.com/watch?v=tGTKo0d0wvk&list=PLVq2Nd186wZEdJ06rR5O93F3_0P67TP3x&pp=iAQB) + [Next.js Testing playlist](https://www.youtube.com/watch?v=4impiruEMn8&list=PLVq2Nd186wZEDShrxPWZkamTCWorK5gLx&pp=iAQB)
- 🎥 [Actus JS de la semaine - React Email v2.0 & Bun cross-os shell](https://www.youtube.com/watch?v=xpu-zJ3UvhU)
- 📅 [Conférence React Paris - 22 Mars](https://react.paris/): nouvelle conférence, les speakers ont déjà été annoncés.
- 📅 [React Connection - 22 Avril](https://reactconnection.io/) + [React-Native Connection - 23 Avril](https://reactnativeconnection.io/): 2 jours de conférence web et mobile. CFP est ouvert jusqu'au 3 février.

---

## 🔀 Autre {#other}

- 📜 [Some use cases for CSS revert-layer - better isolation/encapsulation than shadow DOM](https://www.mayank.co/blog/revert-layer/)
- 📜 [You Probably Don't Need eslint-config-prettier or eslint-plugin-prettier](https://www.joshuakgoldberg.com/blog/you-probably-dont-need-eslint-config-prettier-or-eslint-plugin-prettier/)
- 📜 [The Web Component Success Story](https://jakelazaroff.com/words/the-web-component-success-story/)
- 📜 [12 Modern CSS One-Line Upgrades](https://moderncss.dev/12-modern-css-one-line-upgrades/)
- 📜 [Zed is now open source - Free modern Rust-based IDE](https://zed.dev/blog/zed-is-now-open-source)
- 📦 [TypeScript 5.4 Beta - `NoInfer<T>`, closure type narrowing, groupBy…](https://devblogs.microsoft.com/typescript/announcing-typescript-5-4-beta/)
- 📦 [Safari 17.4 beta - groupBy, withResolvers, @scope, ArrayBuffer, Intl improvements](https://developer.apple.com/documentation/safari-release-notes/safari-17_4-release-notes)
- 📦 [Qwik 1.4 - JSX types changes, automatic Link prefetching, MPA navigation fallback](https://github.com/BuilderIO/qwik/releases/tag/v1.4.0)
- 📦 [Lucia Auth 3.0 - greatly simplified lib, Oauth logic extrated to new “arctic” package](https://github.com/lucia-auth/lucia/discussions/1361)
- 📦 [Shiki 1.0 beta.0 - Modern ESM syntax highlighter - merges back Shikiji into Shiki](https://github.com/shikijs/shiki/releases/tag/v1.0.0-beta.0)
- 📦 [Adonis v6 - ESM, type-safety imrovements…](https://adonisjs.com/blog/adonisjs-v6-announcement)
- 📦 [Deno 1.40 - Temporal API, meta.filename/dirname, decorators](https://deno.com/blog/v1.40)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/172/meme.jpg)](https://twitter.com/dabit3/status/1752143163546911036)

A plus 👋
