---
slug: /176
title: "This Week In React #176: useActionState, React Compiler, Million Lint, TanStack, Generative UI, Vinxi, Remix i18n, Next.js security, Typesafe Router, Shopify RN perf, RCTRootViewFactory, iOS Live Activities, Uni Stack, TypeScript, Parcel..."
authors: [slorber]
date: 03-06-2024
---

Salut Ã  tous !

Cette semaine est difficile Ã  rÃ©sumer, il y a beaucoup de nouvelles intÃ©ressantes et je ne sais pas lesquelles mettre en avant.

Nous avons notamment un aperÃ§u d'un nouveau hook React remplaÃ§ant le dÃ©routant `useFormState`, que mÃªme les dÃ©veloppeurs React Native pourront dÃ©sormais utiliserÂ !

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Axiom - the best logging platform for Vercel apps](/emails/issues/171/axiom.jpg)](https://axiom.co/vercel)

**[Axiom - the best logging platform for Vercel apps](https://axiom.co/vercel)**

ğŸ˜´ Sleep peacefully knowing that Axiomâ€™s zero-config observability for Vercel projects has you covered.

- Use Axiom's pre-built dashboard for an overview across all your Vercel logs and vitals, drill down to specific projects and deployments, and get insight on how functions are performing with a single click.
- [next-axiom](https://github.com/axiomhq/next-axiom) allows you to send logs and events from any part of your Next.js projects - client, edge, or server-side - without any special configuration.
- Easily send structured logs directly from your code and analyze them together with Vercel logs.

Axiom efficiently captures 100% of your event data so youâ€™ll never have to worry about sampling or retention, and youâ€™ll never have to guess what your users are experiencing.

**PS**Â :Â [Je l'utilise moi-mÃªme pour suivre les inscriptions Ã  la newsletter](https://twitter.com/sebastienlorber/status/1528666563452317696)Â ğŸ˜‰

---

## âš›ï¸ React {#react}

[![React Core PR - New useActionState hook](/emails/issues/176/useActionState.jpg)](https://github.com/facebook/react/pull/28491)

**[React Core PR - New useActionState hook](https://github.com/facebook/react/pull/28491)**

Il s'avÃ¨re que le hook useFormState Ã©tait confus, et n'Ã©tait mÃªme pas destinÃ© Ã  Ãªtre utilisÃ© uniquement dans les formulaires. L'Ã©quipe React s'attaque Ã  ce problÃ¨me en introduisant un nouveau hook React pour le remplacerÂ :

- Renomme `useFormState` en `useActionState`
- Ajoute un Ã©tat `pending` au tuple retournÃ©
- DÃ©place le hook vers le package `react`.

Le dÃ©placement de `react-dom` vers `react` signifie Ã©galement que maintenant, d'autres moteurs de rendu tels que React Native peuvent Ã©galement l'utiliser. D'autres avantages sont Ã  prendre en compte, comme une fonctionnalitÃ© Â«Â d'amÃ©lioration progressive partielleÂ Â», mais aussi de nouvelles mises en garde documentÃ©es dans le PR.

---

- ğŸ’¸ [Secure your documents with PDF Redaction. Discover how to protect sensitive information in PDFs using React. Visit our blog to learn more.](https://apryse.com/blog/pdf-redaction-using-react?utm_source=this%20week%20in%20react&utm_medium=newsletter3)
- ğŸ¦ [React 19 != React Compiler](https://twitter.com/sebastienlorber/status/1764950877620654474)Â : L'article de React Labs est un peu ambigu et a induit beaucoup d'entre nous en erreur, alors clarifions les choses. Le compilateur sera probablement publiÃ© aprÃ¨s la sortie de React 19.0 en tant que projet sÃ©parÃ©, et il y a de fortes chances qu'il soit initialement publiÃ© en tant que plugin Babel/TypeScript. Les Ã©lÃ©ments internes sont entiÃ¨rement dissociÃ©s, il ne devrait donc pas falloir longtemps pour l'adapter Ã  Rust.
- ğŸ¦ [TanStack Start preview](https://twitter.com/tannerlinsley/status/1765120904370307438)Â : Tanner travaille sur un framework TanStack Start full-stack basÃ© sur Vinxi et TanStack Router. Cet aperÃ§u montre la migration de son propre site TanStack vers ce framework.
- ğŸ“œ [Vercel - Introducing AI SDK 3.0 with Generative UI support](https://vercel.com/blog/ai-sdk-3-generative-ui)Â : Avec le AI SDK 3.0 et grÃ¢ce Ã  React Server Components, vous pouvez dÃ©sormais diffuser des composants d'interface utilisateur directement Ã  partir des LLM. Des dÃ©mos super impressionnantesÂ !
- ğŸ“œ [Secure statically rendered paid content in Next.js (with the App Router)](https://www.ericburel.tech/blog/static-paid-content-app-router)Â : Montre que l'utilisation des layouts Next.js pour l'authentification n'est pas trÃ¨s sÃ©curisÃ©e, et que le contenu protÃ©gÃ© peut toujours fuir Ã  travers le endpoint RSC. SuggÃ¨re d'utiliser un middleware Ã  la place.
- ğŸ“œ [Internationalization with Remix](https://remix.run/blog/remix-i18n)Â : Reprend les fondamentaux de l'i18n, puis dÃ©taille les diffÃ©rentes solutions i18n que vous pouvez mettre en place dans Remix. Les segments de route facultatifs peuvent vous aider Ã  utiliser des sous-rÃ©pertoires localisÃ©s.
- ğŸ“œ [Did you know you can write your own typesafe React router in 500 lines?](https://sinja.io/blog/build-typesafe-react-router-from-scratch)Â : Un article trÃ¨s complet qui pourrait vous permettre de mieux comprendre le fonctionnement des routeurs existants. Cet article permet Ã©galement de dÃ©couvrir les techniques avancÃ©es de programmation TypeScript au niveau du type.
- ğŸ“œ [Streaming HTML out of order without JavaScript](https://lamplightdev.com/blog/2024/01/10/streaming-html-out-of-order-without-javascript/)Â : Cette dÃ©mo trÃ¨s intÃ©ressante montre qu'il n'est pas nÃ©cessaire d'utiliser JavaScript pour diffuser des morceaux de HTML dans le dÃ©sordre, tout en les restituant dans l'ordre correct. Tout ce dont vous avez besoin, c'est d'un Shadow DOM dÃ©claratif et de slots. Il sera intÃ©ressant de voir si RSC streaming + Suspense pourra exploiter cette technique Ã  l'avenir au lieu d'intÃ©grer du JavaScript.
- ğŸ“œ [Simple RSC With Vinxi](https://www.brenelz.com/posts/simple-rsc-with-vinxi/)Â : Le Vinxi SDK vous aide Ã  crÃ©er votre propre framework full-stack, et il dispose mÃªme d'un plugin pour la prise en charge de React Server ComponentsÂ !
- ğŸ“œ [Million.js - Blocks with noSlot Mode](https://million.dev/blog/block-noSlot)Â : le compilateur Million peut envelopper vos composants avec des Ã©lÃ©ments `<slot>`, ce qui peut causer des problÃ¨mes (de style). Ceci introduit un nouveau mode expÃ©rimental `noSlot`...
- ğŸ“œ [How to add Monaco to a Next.js app to enable custom user workflows](https://deno.com/blog/monaco-nextjs)Â : Tutoriel intÃ©ressant qui montre Ã©galement comment dÃ©ployer du code utilisateur non fiable sur Deno.
- ğŸ“œ [Conceptual Model of React and RSC](https://ondrejvelisek.github.io/conceptual-model-of-react-and-rsc/)Â : RÃ©flexion intÃ©ressante sur la formule UI=f(state), et conclusion sur le fait que RSC ne respecte pas le modÃ¨le original.
- ğŸ“œ [Why React Server Components Are Breaking Builds to Win Tomorrow](https://www.builder.io/blog/why-react-server-components)
- ğŸ“œ [The End Of My Gatsby Journey](https://www.smashingmagazine.com/2024/03/end-of-gatsby-journey/)
- ğŸ“œ [React Admin March 2024 Update](https://marmelab.com/blog/2024/03/05/react-admin-march-2024-update.html)
- ğŸ“¦ [Million Lint - public beta](https://million.dev/blog/lint)Â : Une extension VSCode qui vous aide Ã  garder votre code React rapide grÃ¢ce Ã  l'analyse dynamique. Beaucoup plus simple Ã  utiliser que les graphes de React Devtools flame. Il y aura un service payant supplÃ©mentaire Lint++ basÃ© sur l'IA construit au-dessus pour vous suggÃ©rer des amÃ©liorations de performance possibles.
- ğŸ“¦ [react-unforget - A compiler for automatic optimization of React apps](https://github.com/mohebifar/react-unforget)Â : AprÃ¨s Forgetti, voici un autre nouveau compilateur React alternatif issu de la communautÃ©. Voir aussi ğŸ¦ [Le retour d'expÃ©rience de Joe Savona](https://twitter.com/en_JS/status/1763593971224494106).
- ğŸ“¦ [Remix 2.8 - Pass resolved viteConfig to buildEnd hook](https://remix.run/docs/en/main/start/changelog#v280)
- ğŸ“¦ [React Query 5.25 - skipToken, typesafe query disabling](https://github.com/TanStack/query/releases/tag/v5.25.0)
- ğŸ“¦ [TanStack Router 1.18 - route groups](https://github.com/TanStack/router/releases/tag/v1.18.0)
- ğŸ“¦ [Starlight 0.21 - New UI components: Steps, FileTree](https://starlight.astro.build/guides/components/)
- ğŸ“¦ [Storybook 8.0 RC - v8 is officially stable enough to be used in production](https://github.com/storybookjs/storybook/releases/tag/v8.0.0-rc.0)
- ğŸ“¦ [Onborda - Onboarding wizard flow for Next.js powered by Framer Motion](https://github.com/uixmat/onborda)
- ğŸ“¦ [Input-OTP - One-time password input component for React](https://input-otp.rodz.dev/)
- ğŸ“¦ [Panda 0.33](https://github.com/chakra-ui/panda/discussions/2274)
- ğŸ“¦ [UVCanvas - React component library for beautifully shaded canvas](https://uvcanvas.com)
- ğŸ¥ [Jack Herrington - Is Tanstack Router Better Than React-Router?](https://www.youtube.com/watch?v=qOwnQJOClrw)
- ğŸ¥ [Theo - How Shadcn/ui Actually Works](https://www.youtube.com/watch?v=AqmMx_JidGo)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Need more than just a sign-in box?](/emails/issues/176/clerk.jpg)](https://clerk.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=middleware&utm_content=03-06-24)

**[Need more than just a sign-in box?](https://clerk.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=middleware&utm_content=03-06-24)**

Clerk streamlines React app authentication and user management, ensuring a quick setup for the modern web.

Experience the benefits of Clerk:

- ğŸ’… Pre-built UI components for sign-in, sign-up, user profiles, and organizations. Customize with any CSS library and deploy on your domain
- ğŸ“¦ SDKs for React, React Native, Next.js, Redwood, Remix, and other frameworks
- âš¡ Integrations with Firebase, Supabase, Convex, and other BaaS providers
- ğŸ User management, social login, magic links, MFA, and more out of the box

Dive into Clerk's [quickstarts and tutorials](https://clerk.com/docs/quickstarts/overview?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24) to kickstart your projectğŸš€

---

## ğŸ“± React-Native {#react-native}

Cette section est dÃ©sormais co-Ã©crite avec [Benedikt](https://twitter.com/bndkt). N'hÃ©sitez pas Ã  nous envoyer vos commentaires par email ou sur [Twitter](https://twitter.com/bndkt)Â !

[![Improving Shopify Appâ€™s Performance](/emails/issues/176/shopify.jpg)](https://shopify.engineering/improving-shopify-app-s-performance)

**[Improving Shopify Appâ€™s Performance](https://shopify.engineering/improving-shopify-app-s-performance)**

Spotify est un adepte de React Native depuis longtemps. Mais ils ont remarquÃ© que les performances de leur application avaient baissÃ© depuis qu'ils avaient migrÃ© vers React Native. Au lieu de blÃ¢mer la pile technologique, ils se sont mis au travail et ont commencÃ© Ã  optimiser les performances. Les rÃ©sultats parlent d'eux-mÃªmes : Le lancement de l'app est 44 % plus rapide et les temps de chargement des Ã©crans ont Ã©tÃ© rÃ©duits de 59 %. Voici un rÃ©sumÃ© rapide de certaines des mesures prises (indice : FlashList joue un rÃ´le important dans certaines d'entre elles). Pour plus de dÃ©tails, lisez leur excellent article de synthÃ¨seÂ :

- Au dÃ©but, ne rendre que ce qui est visible sur l'Ã©cran (surtout pour l'Ã©cran d'accueil)
- Construire tous les Ã©crans comme des listes (basÃ© sur FlashList)
- Utiliser inlineRequires
- Changements d'Ã©tat par batch
- Optimiser la mise en cache

Des informations trÃ¨s intÃ©ressantes et des rÃ©sultats impressionnants. J'espÃ¨re que l'Ã©quipe de Shopify continuera Ã  partager ces dÃ©tails et peut-Ãªtre verrons-nous mÃªme certaines des choses qu'ils ont indiquÃ© avoir conÃ§ues au cours de ce processus finir en Open SourceÂ ?

---

- ğŸ’¸ [React Universe Conf combines the best of React Native EU with a new enhanced program. Get your ticket at the lowest price before March 7](https://www.reactuniverseconf.com/?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- ğŸ‘€ [PR - RCTRootViewFactory](https://github.com/facebook/react-native/pull/42263)Â : Simplifie les intÃ©grations sur iOS et vous Ã©vite de vous prÃ©occuper des combinaisons Old Arch/New Arch/Bridge/Bridgeless.
- ğŸ¦ [Drag and drop files from other apps in your RN app](https://x.com/alihdjr/status/1764393524940673529)
- ğŸ“– [visionOS docs - Integrating in existing projects](https://callstack.github.io/react-native-visionos-docs/docs/guides/integrate-into-existing-projects/)
- ğŸ“œ [Expo - Orchestrate advanced workflows with custom builds](https://expo.dev/blog/orchestrate-advanced-workflows-with-custom-builds)Â : Les builds personnalisÃ©s vous permettent d'exÃ©cuter des scripts (bash ou JS) avant ou aprÃ¨s les builds Expo, par exemple pour exÃ©cuter des tests E2E, envoyer des notifications Ã  votre Ã©quipe, ...
- ğŸ“œ [iOS Live Activities and React Native - leveraging the latest iOS features to display your app's most current data without needing to open it](https://www.reactnative.university/blog/live-activities-unleashed)Â : Beaucoup plus d'applications devraient avoir des Live Activities ! Il y a cependant un obstacle pour les dÃ©veloppeurs RN, car elles doivent Ãªtre Ã©crites en Swift. Cette sÃ©rie en trois parties passe en revue toutes les Ã©tapes nÃ©cessaires Ã  l'ajout d'une Live Activity.
- ğŸ“œ [React Native Error Boundaries - Feature, Partial, and Server](https://www.reactnative.university/blog/react-native-error-boundaries)Â : Les error boundaries restent une fonctionnalitÃ© sous-utilisÃ©e, et chaque application React Native devrait en avoir au moins une (mais idÃ©alement plus). Ce billet explique pourquoi et comment.
- ğŸ“œ [Increase Speed and Security With Native Crypto Libraries](https://www.callstack.com/blog/increase-speed-and-security-with-native-crypto-libraries)
- ğŸ“œ [Morrow's Summary of the State of React Native 2023 Report](https://www.themorrow.digital/blog/our-summary-of-the-state-of-react-native-2023-report)
- ğŸ“¦ [Intercom-react-native 6.5 - Now with Expo config plugin](https://github.com/intercom/intercom-react-native/releases/tag/6.5.0)
- ğŸ“¦ [Uni Stack - React Native starter w/ Expo, Prisma, tRPC](https://www.uni-stack.dev/)
- ğŸ“¦ [Expo-foreground-actions - Start actions that continue to run in the grace period after the user switches apps](https://github.com/Acetyld/expo-foreground-actions)
- ğŸ“¦ [React Native 0.74.0 RC 2](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.2)
- ğŸ™ï¸ [RNR 290 - The State of React Native survey with BartÅ‚omiej Bukowski](https://reactnativeradio.com/episodes/the-state-of-react-native-survey-with-bartomiej-bukowski)
- ğŸ™ï¸ [Rocket Ship 32 - From broke Teacher to Software Engineer with Zach Taylor](https://podcast.galaxies.dev/episodes/032-from-broke-teacher-to-software-engineer-with-zach-taylor)
- ğŸ¥ [Simon Grimm - uild a Kids Drawing App with React Native](https://www.youtube.com/watch?v=G5TjXRHoEno)
- ğŸ¥ [notJust Dev - Build Your Own Blog with React Native (for Web & Mobile)](https://www.youtube.com/watch?v=ewW6_baBXko)
- ğŸ“… [Chain React Call for Speakers now open until May 3, 2024](https://sessionize.com/chain-react-2024/)
- ğŸ“… [React Universe Conf 2024 - Early bird ends today](https://ti.to/RUC/react-universe-conf-2024)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ¥ [Melvyn - L'histoire de Tailwind CSS](https://www.youtube.com/watch?v=zngIwDVQfdA)
- ğŸ¥ [DevTheory - Actus JS de la semaine - Vercel gÃ¨re les DDOS ?](https://www.youtube.com/watch?v=JfB6IkP6GAg)

---

## ğŸ”€ Autre {#other}

- ğŸ’¬ [TypeScript 5.5 Iteration Plan - new Set methods, config extension merging](https://github.com/microsoft/TypeScript/issues/57475)
- ğŸ“œ [Effective TypeScript - The Hidden Side of Type Predicates](https://effectivetypescript.com/2024/02/27/type-guards/)
- ğŸ“œ [Deno - Introducing JSR - the JavaScript Registry](https://deno.com/blog/jsr_open_beta)
- ğŸ“œ [OpenJS Launches New Collaboration to Improve Interoperability of JavaScript Package Metadata](https://socket.dev/blog/openjs-improve-interoperability-of-javascript-package-metadata)
- ğŸ“œ [Open Web Advocacy - Apple backs off killing web apps, but the fight continues](https://open-web-advocacy.org/blog/apple-backs-off-killing-web-apps/)
- ğŸ“œ [Top 8 Recent V8 in Node Updates](https://blog.appsignal.com/2024/02/28/top-8-recent-v8-in-node-updates.html)
- ğŸ“¦ [WebKit Features in Safari 17.44 - CSS @scope, align-content](https://webkit.org/blog/15063/webkit-features-in-safari-17-4/)
- ğŸ“¦ [Shiki-magic-move - Smoothly animated code blocks](https://github.com/shikijs/shiki-magic-move)
- ğŸ“¦ [Parcel 2.12 - Macros defined with import attributes running at build times](https://parceljs.org/blog/v2-12-0/)
- ğŸ“¦ [Playwright 1.42 - test tagging, skipped tests annotations](https://github.com/microsoft/playwright/releases/tag/v1.42.0)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/176/meme.jpg)](https://twitter.com/sebastienlorber/status/1765373471645737153)

A plus ğŸ‘‹
