---
slug: /184
title: "This Week In React #184: Patching, Expo, React Aria, Headless UI, Strict Mode, DevTools, Next.js, Mitosis, Twofold, Terminosaurus, Docusaurus, MST, Remix-SaaS, VisionCamera, Reanimated, VisionOS, Apollo, Vite, Node, Hono ..."
authors: [slorber]
date: 05-08-2024
---

Salut Ã  tous !

Nous sommes de retour aprÃ¨s une courte pause, pour couvrir deux semaines d'actualitÃ©sÂ !

J'espÃ¨re que vous vous Ãªtes bien remis de la sortie de la version bÃªta de React 19 ğŸ˜„ Mais ce n'est pas fini, nous entrons dans une pÃ©riode passionnante avec React Conf, Vercel Ship, App.js et bien d'autres confÃ©rences qui se profilent Ã  l'horizon.

Cette semaine, React patching globals a Ã©tÃ© un sujet brÃ»lant dans l'Ã©cosystÃ¨me. Nous avons Ã©galement eu quelques publications intÃ©ressantes liÃ©es Ã  React, y compris deux bibliothÃ¨ques headless majeures.

Comme prÃ©vu, Expo SDK 51 est sorti, et il semble que ce soit le bon moment pour essayer la Nouvelle Architecture.

Vous cherchez une confÃ©rence d'Ã©tÃ© sur ReactÂ ? Les billets pour le [React Rally](https://reactrally.com/?utm_source=thisweekinreact) sont en vente (12-13 aoÃ»t, ğŸ‡ºğŸ‡¸ Utah). Nos lecteurs bÃ©nÃ©ficient d'une [rÃ©duction de 10 %](https://ti.to/react-rally/react-rally-2024/discount/TWIR) avec le code Â«Â TWIRÂ Â».

En parlant de rÃ©ductions, Josh Comeau en offre Ã©galement une pour son cours phare [The Joy of React](https://www.joyofreact.com/). En plus d'une rÃ©duction dÃ©jÃ  importante, nos lecteurs bÃ©nÃ©ficient d'une [rÃ©duction supplÃ©mentaire de 10 %](https://courses.joshwcomeau.com/checkout/joy-of-react/ultimate?couponCode=TWIR) avec le code  Â«Â TWIRÂ Â»Â !

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Helping engineers flex their product muscle](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[Helping engineers flex their product muscle](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**Product for Engineers**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)Â is PostHogâ€™s newsletter dedicated to helping engineers improve their product skills. Learn what questions to ask users, how to build new features users love, and the path to product market fit.

[**Subscribe for free**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)Â to get curated advice on building great products, lessons (and mistakes) from building PostHog, and deep dives into the strategies of top startups.

---

## âš›ï¸ React {#react}

[![React Aria release, May 1](/emails/issues/184/reactaria.jpg)](https://react-spectrum.adobe.com/releases/2024-05-01.html)

[**React Aria release, May 1**](https://react-spectrum.adobe.com/releases/2024-05-01.html)

Les ingÃ©nieurs d'Adobe ont rÃ©cemment publiÃ© de nombreuses amÃ©liorations Ã  leur bibliothÃ¨que de composants React non stylisÃ©s et accessibles. En voici les grandes lignesÂ :

- Sous-menu, voir [l'article du blog dÃ©diÃ©](https://react-spectrum.adobe.com/blog/creating-a-pointer-friendly-submenu-experience.html)
- 7 nouveaux composants pour la sÃ©lection des couleurs
- TreeView alpha
- DropZone + FileTrigger
- IntÃ©gration de routeurs typÃ©s cÃ´tÃ© client
- API des Ã©lÃ©ments onAction/isDisabled
- Meilleur tree shaking (~4x plus petit)

---

[![Headless UI v2.0 for React](/emails/issues/184/headlessui.jpg)](https://tailwindcss.com/blog/headless-ui-v2)

[**Headless UI v2.0 for React**](https://tailwindcss.com/blog/headless-ui-v2)

L'Ã©quipe de Tailwind a publiÃ© une mise Ã  jour majeure de sa bibliothÃ¨que de composants React accessible et sans style. Les points forts sont les suivantsÂ :

- Positionnement d'ancre intÃ©grÃ©, utilisant Floating UI
- Nouveaux composants d'Ã©lÃ©ments de formulaireÂ : Checkbox, Input, Label, Field
- Virtualisation de la liste des combobox Ã  l'aide de TanStack Virtual
- Attributs de donnÃ©es Hover/focus/active utilisant React Aria
- Nouveau site web de documentation

---

- ğŸ’¸ [React Universe Conf - Previously React Native EU. Experts from React & React Native under one roof! Use code RUCxTWIR to get a 10% discount.](https://www.reactuniverseconf.com/tickets-2024?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- ğŸ’¬ [Why doesn't Next.js expose the request and response objects in Layouts?](https://github.com/vercel/next.js/issues/43704#issuecomment-2090798307)Â : Delba explique qu'exposer plus d'API empÃªcherait Next.js d'optimiser le code Ã  l'avenir (notamment grÃ¢ce au Partial Prerendering), et nous donne des alternatives. Cette [solution de contournement](https://www.propelauth.com/post/getting-url-in-next-server-components) m'a fait sourire : placer les donnÃ©es de la requÃªte dans une entÃªte par le biais d'un middleware pour pouvoir y accÃ©der.
- ğŸ’¬ [Vite RFC - Environment API](https://github.com/vitejs/vite/discussions/16358)Â : Cette fonctionnalitÃ© Ã  venir de Vite 6 devrait aider Ã  prendre en charge les composants React Server dans Vite. Cela pourrait Ã©galement faire de Vite un choix viable pour React Native, qui doit gÃ©rer un graphique de module par plateforme native.
- ğŸ‘€ [React DevTools 5.2 PR](https://github.com/facebook/react/pull/29022)Â : Les composants optimisÃ©s par le compilateur React afficheront un badge Â« âœ¨ Memo Â», y compris dans le profiler. Nous pouvons maintenant dÃ©boguer/inspecter useFormStatus. Il y a aussi du travail autour de Â« Fusebox Â», un nouveau nom de code pour React Native DevTools.
- ğŸ‘€ [Next.js PR - Support React 19 in App and Pages router](https://github.com/vercel/next.js/pull/65058)
- ğŸ‘€ [React Core PR - Support useFormStatus in progressively-enhanced forms](https://github.com/facebook/react/pull/29019)
- ğŸ¦ [React might patch the Date API to avoid hydration mismatch](https://x.com/acdlite/status/1785691330988986587)
- ğŸ¦ [React 19 will "fire" refs twice under StrictMode](https://twitter.com/sebastienlorber/status/1787814604170485770)
- ğŸ¦ [React 19 beta - Rick Hanlonâ€™s Ask Me Anything](https://twitter.com/rickhanlonii/status/1783906285957587194)
- ğŸ”— [Remix for Next.js Developers](https://remixfornextdevs.com)Â : Une ressource pratique avec des extraits de code cÃ´te Ã  cÃ´te.
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 juin - 10% de rÃ©duction avec le code Â« TWIR Â».
- ğŸ—“ [dotJS](https://www.dotjs.io/?utm_source=thisweekinreact) - ğŸ‡«ğŸ‡· Paris - June 27 - Moins de 2 mois avant la confÃ©rence, la liste des orateurs est annoncÃ©eÂ ! 10% de rÃ©duction avec le code Â« TWIR Â»
- ğŸ“œ [Why Patching Globals Is Harmful](https://kettanaito.com/blog/why-patching-globals-is-harmful)Â : Un article intÃ©ressant sur les mauvaises pratiques en matiÃ¨re de correctifs globaux, en prenant React, Next.js et Bun comme exemples. Je suis d'accord avec le fait que les API importÃ©es explicitement sont meilleures, mais cela ne permettrait pas Ã  React de dÃ©duire les requÃªtes RSC fetch provenant de SDK npm tiers.
- ğŸ“œ [Modern React testing - Playwright](https://sapegin.me/blog/react-testing-5-playwright/)Â : Une excellente ressource pour commencer Ã  mettre en Å“uvre des tests E2E React dans vos applications, en utilisant Playwright, Mock Service Worker et React Testing Library.
- ğŸ“œ [React Strict Mode and Race Condition](https://www.nico.fyi/blog/react-strict-mode-and-race-condition)Â : Souligne un comportement subtil que vous pouvez rencontrer si vous annulez des requÃªtes dans useEffect avec AbortController.
- ğŸ“œ [Getting Started with Mitosis - Creating a Cross-Framework Design System](https://www.builder.io/blog/mitosis-get-started)Â : Mitosis permet de compiler un composant JSX vers React/RN/Angular/Vue/Svelte. Il dispose Ã©galement d'un tout nouveau site web.
- ğŸ“œ [Locality of Behavior in React Components](https://alexkondov.com/locality-of-behavior-react/)Â : RÃ©flexion autour de l'abstraction et de l'intÃ©gration de code dans un composant React. Ce qui change ensemble doit vivre ensemble.
- ğŸ“œ [How to make edge rendering fast](https://developers.netlify.com/guides/how-to-make-edge-rendering-fast/)Â : Le PDG de Netlify prend une application Remix avec edge-rendered et explique comment l'introduction d'une fonction serverless supplÃ©mentaire + la mise en cache CDN pourrait accÃ©lÃ©rer votre application.
- ğŸ“œ [Combining Pixi-React and HTML with Tunnels](https://jallen.dev/blog/pixi-react-tunnels)Â : Lorsque vous utilisez plusieurs moteurs de rendu React, une bibliothÃ¨que tunnel peut vous aider Ã  garder les choses groupÃ©es par prÃ©occupation.
- ğŸ“œ [Upcoming custom element support in React](https://piccalil.li/blog/upcoming-custom-element-support-in-react/)Â : React 19 beta rÃ©ussit 100% du benchmark Custom Elements Everywhere. Combiner React avec des Ã©lÃ©ments personnalisÃ©s semble Ãªtre un choix intÃ©ressant pour l'avenir.
- ğŸ“œ [Replace Your HTML Entry Point with React](https://danielnagy.me/posts/Post_2mewtbsl6g4c)Â : Utilise React pour rendre le document entier dans Vite. Ce n'est pas si simple, mais cela peut Ãªtre utile pour la prise en charge du streaming SSR.
- ğŸ“œ [10 Features Next.js 15 Could Launch](https://notebook.lachlanjc.com/2024-04-17_10_features_nextjs_15_could_launch)Â : PrÃ©vision des annonces possibles Ã  la confÃ©rence Vercel Ship.
- ğŸ“œ [Nuances of Server Actions in Next.js](https://tigerabrodi.blog/nuances-of-server-actions-in-nextjs)
- ğŸ“¦ [React Router 6.23 - Data Strategy API (unstable)](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6230)Â : Active la nouvelle fonctionnalitÃ© Single Fetch de Remix 2.9, qui lance une requÃªte pour tous les loaders au lieu d'une requÃªte par loader.
- ğŸ“¦ [Terminosaurus - Graphical UI library for terminals, including React renderer integration](https://mael.dev/terminosaurus/)
- ğŸ“¦ [Twofold - Framework for building demos with React Server Components](https://twofoldframework.com/)
- ğŸ“¦ [Mobx-State-Tree 6.0 - hasEnv, TypeScript, perf improvements](https://github.com/mobxjs/mobx-state-tree/discussions/2180)
- ğŸ“¦ [Zustand-Valtio - Interesting alternative to Zustand + Immer](https://github.com/zustandjs/zustand-valtio)
- ğŸ“¦ [Hono 4.3 - Hono JSX improves compatibility with React, can render Radix UI primitives](https://github.com/honojs/hono/releases/tag/v4.3.0)
- ğŸ“¦ [Docusaurus 3.3 - Handle React 18.3 warnings, createSitemapItems, pages plugin improvements](https://docusaurus.io/blog/releases/3.3)
- ğŸ“¦ [Apollo Client 3.10 - Schema-based testing utilities, client.watchFragment, stable createQueryPreloader](https://www.apollographql.com/blog/whats-new-in-apollo-client-3-10)
- ğŸ“¦ [use-context-selector 2.0 - Drops React < 18](https://github.com/dai-shi/use-context-selector)
- ğŸ“¦ [Remix-SaaS - A free, lightweight, production-ready Remix Stack for your next SaaS app](https://github.com/dev-xo/remix-saas)
- ğŸ¥ [Theo - React's New Controversial Override](https://www.youtube.com/watch?v=PAf6NjyCnrI)
- ğŸ™ï¸ [This Month in React - React 19 beta, Node 22, Expo 51, RN 0.74, Next.js 14.2 â€¦](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-05-So-many-new-releases--React-19-featureset-e2jbc64)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Omlet â€” a new component analytics tool for React](/emails/issues/180/omletad.jpg)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-second-sponsor-may-2024)

**[Omlet â€” a new component analytics tool for React ğŸ”](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024)**

Too many custom or outdated components, not enough reuse? Not with Omlet. Omlet scans your codebase and instantly provides pre-built and custom charts on:

- Unused and deprecated components to remove
- Similar or redundant components to consolidate
- Recently created components that indicate emerging patterns
- Component dependencies so you can estimate and visualize the impact of code updates

With this data, you can stop guessing which components to keep, remove, or improve â€” and maintain a healthier codebase and more simplified libraries. [Try Omlet free for 30 days](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024).

---

## ğŸ“± React-Native {#react-native}

Cette section est rÃ©digÃ©e par [Benedikt](https://twitter.com/bndkt).

[![Expo SDK 51](/emails/issues/184/expo51.jpg)](https://expo.dev/changelog/2024/05-07-sdk-51)

[**Expo SDK 51**](https://expo.dev/changelog/2024/05-07-sdk-51)

La sortie de React Native 0.74 est suivie de celle d'Expo SDK 51. Cette version fait principalement progresser l'architecture interne et fait passer certains packages expÃ©rimentaux dans la nouvelle configuration par dÃ©faut, alors permettez-moi d'aborder rapidement les sujets que nous avons dÃ©jÃ  couverts dans cette newsletterÂ : Prise en charge de la Nouvelle Architecture pour la plupart des modules Expo (il y a encore quelques [problÃ¨mes connus](https://docs.expo.dev/guides/new-architecture/#known-issues-in-expo-sdk-libraries)), prise en charge de Bridgeless, prise en charge du manifeste de confidentialitÃ© d'Apple, les versions Â«Â nextÂ Â» des packages camera et sqlite sont maintenant les versions par dÃ©faut, Fingerprint n'est plus expÃ©rimental. Mais il y a aussi un nouveau package expo-symbols qui contient la bibliothÃ¨que SF Symbols d'Apple (iOS seulement), une nouvelle bibliothÃ¨que expo-video, la version 3.5 d'Expo Router avec le support du fragment # dans les URL, et des amÃ©liorations pour EAS Update (par exemple une interface web pour dÃ©ployer les mises Ã  jour graduellement). Je m'attends Ã  des annonces plus importantes autour d'Expo Router (RSC ğŸ‘€) lors de la prochaine React Conf, alors restez Ã  l'Ã©couteÂ ! Un autre changement important est qu'Expo Go, Ã  partir de la version 51, ne prend en charge qu'une seule version du SDK Expo. Cette dÃ©cision est tout Ã  fait logique pour moi car elle rend la maintenance de l'application Expo Go beaucoup plus facile et pour la plupart des cas d'utilisation, vous devriez utiliser Expo Dev Client de toute faÃ§on.

---

- ğŸ’¸ [PowerSync â€“ build local-first apps with simple state management and real-time reactivity. Non-invasive to existing architecture](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- ğŸ¦ [Rewritten Metro resolver in Expo SDK 51 is up to 6x faster](https://x.com/Baconbrix/status/1785364741751214529)
- ğŸ¦ [Build native iOS apps over-the-air with Expo 51 beta!](https://x.com/Baconbrix/status/1783621369743245363)
- ğŸ‘€ [EAS Build - Pricing update](https://expo.dev/changelog/2024/05-02-fast-failed-builds-exclusion)Â : Les constructions Ã  Ã©chec rapide (Ã©chec dans les 3 premiÃ¨res minutes) sont dÃ©sormais gratuites, ce qui est trÃ¨s apprÃ©ciÃ©Â !
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± KrakÃ³w - 22-24 mai. BÃ©nÃ©ficiez d'une [rÃ©duction de 10 %](https://ti.to/appjs/2024/discount/TWIR) avec le code Â«Â TWIRÂ Â».
- ğŸ“œ [React Native Local Database Options: A Comprehensive Summary](https://www.powersync.com/blog/react-native-local-database-options)Â : Le local-first permet d'obtenir des applications trÃ¨s performantes, et de nouvelles solutions apparaissent sans cesse. Voici un aperÃ§u des diffÃ©rentes options de base de donnÃ©es.
- ğŸ“œ [React Native Vision Camera x Skia: What's New in v4](https://www.premieroctet.com/blog/en/react-native-vision-camera-v4-skia)Â : Je prÃ©dis que nous verrons de nouvelles expÃ©riences interactives folles avec la camÃ©ra RN Vision et les processeurs de frame SkiaÂ !
- ğŸ“œ [iPad Hover effects in React Native 0.74](https://www.oskarkwasniewski.dev/blog/react-native-ipad-hover-effects)Â : iPadOS dispose d'une mÃ©thode spÃ©cifique pour mettre en Ã©vidence le survol d'un Ã©lÃ©ment de l'interface utilisateur par le pÃ©riphÃ©rique de saisie (par exemple, le crayon); voici comment l'utiliser dans RN).
- ğŸ“œ [Rust modules in React Native](https://ospfranco.com/post/2024/05/08/react-native-rust-module-guide/)
- ğŸ“¦ [Reanimated 3.9 - Screen Transitions, useScrollViewOffset now works on Web, React Native 0.74 and Bridgeless Mode support, Shared Element Transitions stability improvements](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.9.0)
- ğŸ“¦ [React Native 0.74.1 - Privacy manifest aggregation](https://github.com/facebook/react-native/releases/tag/v0.74.1)
- ğŸ“¦ [React Native 0.73.8 Add privacy manifest to template](https://github.com/facebook/react-native/releases/tag/v0.73.8)
- ğŸ“¦ [React Native VisionOS 0.74](https://github.com/callstack/react-native-visionos/releases/tag/v0.74.0-visionos)
- ğŸ“¦ [NativeWindUI - New component library with free and paid components](https://nativewindui.com/)
- ğŸ¥ [Simon Grimm - React Native IDE Beta](https://www.youtube.com/watch?v=eOWxKkHakyY)
- ğŸ¥ [Szymon Rybczak - Boost Your Animations with Rive](https://youtube.com/watch?v=2Mn1a_iAj6g)
- ğŸ™ï¸ [RNR 296 - NASA Uses Ignite!?!](https://reactnativeradio.com/episodes/rnr-296-nasa-uses-ignite)
- ğŸ™ï¸ [Rocket Ship 40 - From Next.js to React Native with Kitze](https://share.transistor.fm/s/47610b15)

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ‡«ğŸ‡· [ReactHebdo.fr - DerniÃ¨res Ã©ditions traduites en franÃ§ais](https://thisweekinreact.com/fr/newsletter)
- ğŸ—“ [React Paris Meetup #1 - 28 Maiâ€‹](https://www.meetup.com/fr-FR/react-paris/events/300756193)
- ğŸ“œ [Comment gÃ©rer les erreurs avec Remix ? (ErrorBoundary)â€‹](https://algomax.fr/blog/comment-gerer-les-erreurs-avec-remix-error-boundary)
- ğŸ¥ [Tuto Shadcn UI avec TailwindCSS - Tout comprendre en 30 minutesâ€‹](https://www.youtube.com/watch?v=sIKGWcLB2nY)
- ğŸ¥ [5 technos pour faire des app fullstack JS qu'il te fautâ€‹](https://www.youtube.com/watch?v=jnyaZ-Ut300)
- ğŸ™ï¸ [Double Slash 85 - News Mai 2024 - React 19 beta, Node 22, JSRâ€¦](https://double-slash.dev/podcasts/news-05-24/)

---

## ğŸ”€ Autre {#other}

- ğŸ‘€ [New to the web platform in April - Popover, Intl.Segmenter, align-content, parseHTMLUnsafeâ€¦](https://web.dev/blog/web-platform-04-2024)
- ğŸ“œ [The Front End Developer/Engineer Handbook 2024](https://frontendmasters.com/blog/front-end-developer-handbook-2024/)
- ğŸ“œ [TypeScript Branded Types](https://prosopo.io/articles/typescript-branding/)
- ğŸ“¦ [Node 22.1 - New on-disk code caching option](https://nodejs.org/en/blog/release/v22.1.0?utm_content=291781984&utm_medium=social&utm_source=twitter&hss_channel=tw-91985735)
- ğŸ“¦ [Node 20.3 - Watch mode is now stable](https://nodejs.org/en/blog/release/v20.13.0)
- ğŸ“¦ [Vitest 1.6 - Performance, â€“standalone flag, Benchmark â€“compare flag](https://github.com/vitest-dev/vitest/releases/tag/v1.6.0)
- ğŸ“¦ [Module Federation 2.0 - Decoupled from Webpack, supports Rspack, type safety](https://module-federation.io/blog/announcement.html)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/184/meme.jpg)](https://twitter.com/sebastienlorber/status/1786399152550597114)

A plus ğŸ‘‹
