---
slug: /145
title: "React Hebdo #145: Next.js, Server Actions, useFormStatus, useOptimistic, App Router, Canaries, Ink, ReasonML, Redwood, Reanimated, VisionCamera..."
authors: [slorber]
date: 05-09-2023
---

Salut Ã  tous !

Comme prÃ©vu une nouvelle version de Next.js est sortie. C'est marrant d'ailleurs, il y a des innovations React qui sont mieux documentÃ©es dans la doc de Next.js que celle de React, comme form `action`, ou les 2 nouveaux hooks `useFormStatus` et `useOptimistic`.

Il y a beaucoup de confÃ©rences en ce moment, avec en particulier Remix Conf et App.js qui dÃ©marrent aujourd'hui: il y aura surement de belles annonces.

La [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er Juin) approche aussi, et vous pouvez avoir -20% de rÃ©duction avec le code "REACTHEBDO"!

Je compte sauter l'Ã©dition de la prochaine semaine. Prochaine Ã©dition le 24 Mai ğŸ‘‹

<!-- truncate -->

**ğŸ’¡ [Consulter cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "../_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Start UI](/emails/issues/144/start_ui.jpg)](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)

**[Start UI [web] - Starter UI dâ€™application web](https://github.com/BearStudio/start-ui-web/?utm_source=newsletter&utm_term=this-week-in-react)**

Notre **starter UI d'application Web gratuit et open source** offre un moyen rapide et facile de dÃ©marrer votre prochain projet. Il inclut les **bonnes pratiques** et des **outils prÃªts pour la production** pour vous aider Ã  dÃ©marrer immÃ©diatement, vous faisant ainsi gagner du temps et des efforts lors de la phase de setup.

Disponible avec des **fonctionnalitÃ©s** intÃ©grÃ©es : ğŸ”Â authentification, ğŸ“±responsive layout, ğŸ§‘â€ğŸ’»Â gestion des utilisateurs, ğŸ‡«ğŸ‡·Â internationalisation et support right-to-left, ğŸŒšÂ dark mode et des ğŸ›Â composants avancÃ©s pour faciliter le dÃ©veloppement. [Essayer la demo](https://demo.start-ui.com/).

PrÃªt Ã  Ãªtre utilisÃ© avec **TypeScript**, **NextJS**, Chakra UI, TanStack Query, Storybook et plus encore.

[ğŸš€ Start UI [web] sur GitHub](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)

---

## âš›ï¸ React {#react}

[![Next.js 13.4](/emails/issues/145/nextjs.jpg)](https://nextjs.org/blog/next-13-4)

**[Next.js 13.4](https://nextjs.org/blog/next-13-4)**

Une release majeure pour Next.js, avec:

- App Router (stable): le nouveau routeur basÃ© sur Suspense et Server Components prÃªt pour la production
- Turbopack (beta): le nouveau bundler se stabilise pour le dev, et devrait bientÃ´t fonctionner pour le build
- Server Actions (alpha): intÃ©gration des toutes derniÃ¨res innovations React

Le blog post nous prÃ©sente de nombreuses diffÃ©rences notables avec l'ancien routeur: conventions, nested layouts, selective hydration, server components, code splitting...

Il nous dÃ©voile aussi les nouveautÃ©s React gÃ©rer les mutations et soumissions de formulaire, dont l'intÃ©gration dans Next.js donne naissance aux Server Actions. Cela simplifie les intÃ©ractions avec le serveur sans avoir besoin de crÃ©er une API route et l'usage de formulaires supportant le [progressive enhancement](https://twitter.com/acdlite/status/1654159613950828546). Il est maintenant possible de crÃ©er et distribuer des composants React full-stack.

Ã€ noter qu'il est un peu tÃ´t pour adopter les Server Actions en production. Ils sont en alpha, et un problÃ¨me de sÃ©curitÃ© expose un peu trop facilement les variables capturÃ©es dans une closure au client. DÃ©tails ici:

- ğŸ§µ [Thread](https://twitter.com/tomus_sherman/status/1654198731313500174): met en garde contre ce problÃ¨me
- ğŸ¦ ProblÃ¨me reconnu par [Sebastian MarkbÃ¥ge](https://twitter.com/sebmarkbage/status/1654212899097960448) et [Andrew Clark](https://twitter.com/acdlite/status/1654317374777032704) qui proposent d'encrypter les variables.
- ğŸ¥ [Next's Server Actions Might Not Be That Safe...](https://www.youtube.com/watch?v=fdKcbyEK66M)

**Autres liens utiles:**

- ğŸ“– [New Next.js documentation](https://twitter.com/leeerob/status/1654181055740497939): la nouvelle doc beta est dÃ©ployÃ©e en prod. Je conseille en particulier la page [React Essentials](https://nextjs.org/docs/getting-started/react-essentials).
- ğŸ‘€ [useOptimistic](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useoptimistic) et [useFormStatus](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useformstatus): nouveaux hooks React expÃ©rimentaux.
- ğŸ“œ [Next.js 13.4 on Vercel](https://vercel.com/changelog/next-js-13-4)
- ğŸ“œ [Introducing the Vercel Data Cache: Optimized caching for React Server Components](https://vercel.com/changelog/introducing-vercel-data-cache)
- ğŸ§µ [Guillermo Rauch - "I re-designed rauchg.com with App Router"](https://twitter.com/rauchg/status/1652093972117073920): retour d'expÃ©rience intÃ©ressant
- ğŸ¥ [Introducing Next.js App Router](https://www.youtube.com/watch?v=DrxiNfbr63s)

---

- ğŸ§‘â€ğŸ“ [TotalTypeScript - React with TypeScript tutorial](https://www.totaltypescript.com/tutorials/react-with-typescript): tutoriel gratuit par Matt Pocock, expert TypeScript.
- ğŸ¨ [The Rendering Journey of a React component](https://alexsidorenko.com/react-journey): visualisation pas-Ã -pas du re-rendering.
- ğŸ“œ [React Canaries: Enabling Incremental Feature Rollout Outside Meta](https://react.dev/blog/2023/05/03/react-canaries): l'Ã©quipe React crÃ©Ã© un nouveau release channel canary qui permet notamment aux frameworks d'adopter les nouvelles features React avant leur sortie officielle dans une release stable. Les releases canary sont suffisamment stables pour une adoption en production. C'est d'ailleurs ce que Next.js App Router utilise maintenant, mais aussi Meta et React-Native.
- ğŸ“œ [React Server Components, Next.js App Router and examples](https://addyosmani.com/blog/react-server-components-app-router/): Addy Osmani partage ses notes et reflexions sur les Server Components. Une bonne vue d'ensemble, ainsi que de nombreux exemples d'apps open-source. Liste Ã©galement les raisons de ne plus utiliser Create-React-App.
- ğŸ“œ [5 Lessons Learned From Taking Next.js App Router to Production](https://www.inngest.com/blog/5-lessons-learned-from-taking-next-js-app-router-to-production): retour d'expÃ©rience de Inngest qui a migrÃ© avec succÃ¨s une app CRA vers Next.js et App Router. On y retrouve quelques dÃ©tails intÃ©ressants sur le caching ou la gestion des search parameters.
- ğŸ“œ [Server-side rendering React in OCaml](https://sancho.dev/blog/server-side-rendering-react-in-ocaml): les devs de Ahrefs utilisent Reason-React. Ils ont rÃ©implÃ©mentÃ© `ReactDOMServer.renderToString` en OCaml pour pouvoir exÃ©cuter le SSR nativement et rÃ©soudre quelques problÃ©matiques. Leur SSR est maintenant 10x plus rapide que Node.js et 6x plus rapide que Bun. L'idÃ©e d'exÃ©cuter le SSR en langage natif est super intÃ©ressante, mais il va falloir pas mal de travail pour supporter les derniÃ¨res innovations comme le streaming et les Server Components.
- ğŸ“œ [HTMX is the Future](https://quii.dev/HTMX_is_the_Future): une critique des frameworks SPA, en particulier React. Propose d'utiliser une alternative: HTMX et des rÃ©ponses hypermedia. Je trouve Ã§a intÃ©ressant pour les devs backend qui veulent ajouter de l'intÃ©ractivitÃ© sans faire de JavaScript, mais pas certain que Ã§a scale si bien que Ã§a.
- ğŸ“œ [Context, Composition, and Flexibility](https://kyleshevlin.com/context-composition-and-flexibility): propose d'utiliser le contexte React pour activer un rendu alternatif d'un composant.
- ğŸ“œ [My Struggle With Remix](https://redd.one/blog/my-struggle-with-remix): retour d'expÃ©rience intÃ©ressant. L'auteur aime toujours beaucoup Remix, mais prÃ©sente quelques challenges rencontrÃ©s.
- ğŸ“œ [Pull to refresh from scratch as a React hook](https://www.strictmode.io/articles/react-pull-to-refresh)
- ğŸ“œ [Creating an interactive spotlight border with CSS and React](https://www.julienthibeaut.xyz/blog/create-spotlight-border-with-react-css)
- ğŸ“¦ [Redwood 5.0](https://community.redwoodjs.com/t/redwood-v5-0-0-is-now-available/4830): support de React 18, TypeScript v5 et observabilitÃ©.
- ğŸ“¦ [Ink UI - Themable UI components for your next CLI](https://twitter.com/vadimdemedes/status/1655567427885846534): un bel exemple des capacitÃ©s cross-platform de React. Il est possible de render pour le terminal, et mÃªme de crÃ©er des libs UI pour cet Ã©cosystÃ¨me.
- ğŸ“¦ [OpenNext 1.2.0 - geolocation in middleware](https://twitter.com/fanjiewang/status/1654192897678295040)
- ğŸ“¦ [Zact - Zod Server ACTions](https://github.com/pingdotgg/zact)
- ğŸ“¦ [Astro 2.4](https://astro.build/blog/astro-240/)
- ğŸ“¦ [server-only](https://www.npmjs.com/package/server-only): package React officiel qui permet d'empÃªcher l'import de code serveur dans les Client Components (voir la [doc Next.js](https://nextjs.org/docs/getting-started/react-essentials#keeping-server-only-code-out-of-client-components-poisoning)).
- ğŸ“¦ [shadcn UI - Table and Data Table components](https://twitter.com/shadcn/status/1656019263394836480)
- ğŸ“¦ [Million.js 2.3.1 - Astro support (beta)](https://twitter.com/aidenybai/status/1655088722222923776)
- ğŸ“Š [State of React 2023 - Preliminary Discussions](https://github.com/Devographics/surveys/issues/85): il pourrait y avoir un sondage dÃ©diÃ© Ã  React cette annÃ©e.
- ğŸ‘€ [RSCs on Rspack](https://twitter.com/_hyf0/status/1655538017669648385)
- ğŸ‘€ [Edit audio with Remotion](https://twitter.com/JNYBGR/status/1655853159623917568)
- ğŸ¥ [Always Bet On React](https://www.youtube.com/watch?v=TnyslkPfXaM)
- ğŸ¥ [I'm Done With React](https://www.youtube.com/watch?v=Zt8mO_Aqzw8)
- ğŸ¥ [Should You Learn React in 2023? - Interview with React Summit Speakers Tru Narla and Jordan Gensler](https://www.youtube.com/watch?v=5xRqP-M8MkM)
- ğŸ‘¥ [React Summit](https://reactsummit.com/?utm_source=email&utm_medium=thisweekinreact) (Amsterdam, 2-6 Juin) nous offre -5% sur les entrÃ©es (code "ThisWeekInReact5") et -10% sur les [workshops](https://reactsummit.com/react-workshops) (code "THISWEEKINREACT")

<SubscribeFormEmbed />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Nylas](/emails/issues/144/nylas_2.png)](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)

**[OpenAI + Nylas Fireside Chat : IA gÃ©nÃ©rative](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)**

Want to get an inside look at the future of generative AI? On May 17th, [OpenAI and Nylas will be hosting an open-to-all fireside chat](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=) with Evan Morikawa, Applied Engineering Manager at OpenAI, and Christine Spang, CTO and Co-Founder at Nylas. Theyâ€™ll discuss what it takes to deliver and maintain AI solutions at scale, what AI's next stage of maturity looks like, and much more. [Donâ€™t miss it](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=).

---

## ğŸ“± React-Native {#react-native}

- ğŸ“– [New Reanimated Beta docs](https://twitter.com/swmansion/status/1655930596093472774): nouvelle doc Docusaurus intÃ©ractive avec plein d'exemples implÃ©mentÃ©s en React-Native-Web.
- ğŸ¨ [VisionCamera + Skia + TensorFlow demo](https://twitter.com/mrousavy/status/1654143459849121792): c'est impressionnant ce qu'on peut faire en React-Native aujourd'hui. Le rendu Skia et les modÃ¨les TensorFlow peuvent Ãªtre mis Ã  jour avec une update Over-The-Air.
- ğŸ¨ [Reanimated 3 + Expo Router + Shared Element Transitions demo](https://twitter.com/kacperkapusciak/status/1654434612825792513)
- ğŸ“œ [Best tips & tricks for E2E Maestro with React Native](https://dev.to/retyui/best-tips-tricks-for-e2e-maestro-with-react-native-2kaa)
- ğŸ“œ [React Native run-android: How to Test Various Device Types](https://www.testim.io/blog/react-native-run-android/)
- ğŸ‘¥ [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er Juin) nous offre -20% (code "REACTHEBDO").
- ğŸ‘¥ [App.js](https://appjs.co/) (Cracovie, 10-12 Mai) nous offre [-20% sur les workshops](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (code "ThisWeekinReact20").
- ğŸ‘¥ [Chain React](https://chainreactconf.com/) (Portland, 18-19 Mai) nous offre -10% sur les entrÃ©es (code "thisweekinreact").

---

## ğŸ§‘â€ğŸ’» Jobs {#jobs}

ğŸ§‘â€ğŸ’¼ [**Shotgun - Senior Full Stack Engineer - 60-75kâ‚¬ + BSPCE**](https://shotgun.teamtailor.com/jobs/1981578-senior-full-stack-engineer)

Shotgun est la billetterie des Ã©vÃ¨nements electro. Nous recherchons des devs expÃ©rimentÃ©s pour travailler sur une stack moderne: React, React-Native, Typescript, GraphQL, NextJS, PgSQL, Vercel...

ğŸ§‘â€ğŸ’¼ [**Premier Octet - DÃ©veloppeurs(euses) React - Paris**](https://www.premieroctet.com/jobs)

Nous cherchons des dÃ©veloppeurs(euses) JavaScript passionnÃ©s. Vous interviendrez en dÃ©veloppement sur des projets variÃ©s et motivants, Ã  la fois serveur et front (React, Nest, Next), et Ã©ventuellement mobile (React Native).

ğŸ’¡ [Comment publier une offre d'emploi ?](https://thisweekinreact.com/fr/sponsor)

ğŸ¢ **[Vous recrutez en CDI ou freelance? Contactez-moi!](https://qq4ph6n1rk0.typeform.com/to/qjSZ38dQ#email={{subscriber.email_address}})**

---

## ğŸ‡«ğŸ‡· En franÃ§ais {#fr}

- ğŸ¥ [Tout savoir sur les Server Action avec NextJS 13.4](https://www.youtube.com/watch?v=GvnobIEfYs0)
- ğŸ¥ [Next.js qui imite PHP ? - Actus JS de la semaine (08 mai 2023)](https://www.youtube.com/watch?v=xT5gu_FTAH4)
- ğŸ¥ [3 maniÃ¨re d'Optimiser ton Application React](https://www.youtube.com/watch?v=Si5KZv1wLNA)

ğŸ’¡Tu peux m'envoyer ton contenu: [sebastien@thisweekinreact.com](mailto:sebastien@thisweekinreact.com?subject=Contenu%20en%20fran%C3%A7ais) !

---

## ğŸ”€ Autre {#other}

- [Client-side rendering of HTML and interactivity](https://web.dev/client-side-rendering-of-html-and-interactivity/)
- [Diagnose slow interactions in the lab](https://web.dev/diagnose-slow-interactions-in-the-lab/)
- [I want to talk about WebGPU](https://cohost.org/mcc/post/1406157-i-want-to-talk-about)
- [Animate elements on scroll with Scroll-driven animations](https://developer.chrome.com/articles/scroll-driven-animations/)
- [Cumulative Layout Shift Differences In Lab And Field Data](https://www.debugbear.com/blog/cls-lab-field-differences)
- [Angular v16](https://blog.angular.io/angular-v16-is-here-4d7a28ec680d)
- [Nx v16](https://blog.nrwl.io/nx-16-is-here-69584ec87053#68c6)
- [Vitest 0.31](https://twitter.com/sheremet_va/status/1653827712576880645)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/145/meme.jpg)](https://twitter.com/markdalgleish/status/1654259858668163072)

A plus ğŸ‘‹
